{
  "version": 3,
  "sources": ["../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/pipeline.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/logger/log.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/logger/debug.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/logger/logger.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/log.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/object.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/sanitizer.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/logPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/redirectPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/userAgentPlatform.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/constants.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/userAgent.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/userAgentPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/decompressResponsePolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/random.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/abort-controller/AbortError.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/helpers.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/retryStrategies/throttlingRetryStrategy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/retryStrategies/exponentialRetryStrategy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/retryPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/defaultRetryPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/bytesEncoding.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/checkEnvironment.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/httpHeaders.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/formDataPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/proxyPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/tlsPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/tracing/tracingContext.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/tracing/instrumenter.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/tracing/tracingClient.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/error.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/inspect.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/restError.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/tracingPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/typeGuards.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/uuidUtils.common.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/uuidUtils.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/file.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/concat.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/multipartPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/createPipelineFromOptions.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/fetchHttpClient.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/defaultHttpClient.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/pipelineRequest.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/util/tokenCycler.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/policies/bearerTokenAuthenticationPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/auth/keyCredential.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/auth/tokenCredential.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/client/apiVersionPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/client/keyCredentialAuthenticationPolicy.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/client/clientHelpers.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/client/multipart.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/client/sendRequest.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/client/urlHelpers.js", "../../@microsoft/ai-chat-protocol/node_modules/@typespec/ts-http-runtime/dist/browser/client/getClient.js", "../../@microsoft/src/util/error.ts", "../../@microsoft/src/util/ndjson.ts", "../../@microsoft/src/util/stream-browser.mts", "../../@microsoft/src/util/url-browser.mts", "../../@microsoft/src/client.ts"],
  "sourcesContent": ["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nconst ValidPhaseNames = new Set([\"Deserialize\", \"Serialize\", \"Retry\", \"Sign\"]);\n/**\n * A private implementation of Pipeline.\n * Do not export this class from the package.\n * @internal\n */\nclass HttpPipeline {\n    constructor(policies) {\n        var _a;\n        this._policies = [];\n        this._policies = (_a = policies === null || policies === void 0 ? void 0 : policies.slice(0)) !== null && _a !== void 0 ? _a : [];\n        this._orderedPolicies = undefined;\n    }\n    addPolicy(policy, options = {}) {\n        if (options.phase && options.afterPhase) {\n            throw new Error(\"Policies inside a phase cannot specify afterPhase.\");\n        }\n        if (options.phase && !ValidPhaseNames.has(options.phase)) {\n            throw new Error(`Invalid phase name: ${options.phase}`);\n        }\n        if (options.afterPhase && !ValidPhaseNames.has(options.afterPhase)) {\n            throw new Error(`Invalid afterPhase name: ${options.afterPhase}`);\n        }\n        this._policies.push({\n            policy,\n            options,\n        });\n        this._orderedPolicies = undefined;\n    }\n    removePolicy(options) {\n        const removedPolicies = [];\n        this._policies = this._policies.filter((policyDescriptor) => {\n            if ((options.name && policyDescriptor.policy.name === options.name) ||\n                (options.phase && policyDescriptor.options.phase === options.phase)) {\n                removedPolicies.push(policyDescriptor.policy);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n        this._orderedPolicies = undefined;\n        return removedPolicies;\n    }\n    sendRequest(httpClient, request) {\n        const policies = this.getOrderedPolicies();\n        const pipeline = policies.reduceRight((next, policy) => {\n            return (req) => {\n                return policy.sendRequest(req, next);\n            };\n        }, (req) => httpClient.sendRequest(req));\n        return pipeline(request);\n    }\n    getOrderedPolicies() {\n        if (!this._orderedPolicies) {\n            this._orderedPolicies = this.orderPolicies();\n        }\n        return this._orderedPolicies;\n    }\n    clone() {\n        return new HttpPipeline(this._policies);\n    }\n    static create() {\n        return new HttpPipeline();\n    }\n    orderPolicies() {\n        /**\n         * The goal of this method is to reliably order pipeline policies\n         * based on their declared requirements when they were added.\n         *\n         * Order is first determined by phase:\n         *\n         * 1. Serialize Phase\n         * 2. Policies not in a phase\n         * 3. Deserialize Phase\n         * 4. Retry Phase\n         * 5. Sign Phase\n         *\n         * Within each phase, policies are executed in the order\n         * they were added unless they were specified to execute\n         * before/after other policies or after a particular phase.\n         *\n         * To determine the final order, we will walk the policy list\n         * in phase order multiple times until all dependencies are\n         * satisfied.\n         *\n         * `afterPolicies` are the set of policies that must be\n         * executed before a given policy. This requirement is\n         * considered satisfied when each of the listed policies\n         * have been scheduled.\n         *\n         * `beforePolicies` are the set of policies that must be\n         * executed after a given policy. Since this dependency\n         * can be expressed by converting it into a equivalent\n         * `afterPolicies` declarations, they are normalized\n         * into that form for simplicity.\n         *\n         * An `afterPhase` dependency is considered satisfied when all\n         * policies in that phase have scheduled.\n         *\n         */\n        const result = [];\n        // Track all policies we know about.\n        const policyMap = new Map();\n        function createPhase(name) {\n            return {\n                name,\n                policies: new Set(),\n                hasRun: false,\n                hasAfterPolicies: false,\n            };\n        }\n        // Track policies for each phase.\n        const serializePhase = createPhase(\"Serialize\");\n        const noPhase = createPhase(\"None\");\n        const deserializePhase = createPhase(\"Deserialize\");\n        const retryPhase = createPhase(\"Retry\");\n        const signPhase = createPhase(\"Sign\");\n        // a list of phases in order\n        const orderedPhases = [serializePhase, noPhase, deserializePhase, retryPhase, signPhase];\n        // Small helper function to map phase name to each Phase\n        function getPhase(phase) {\n            if (phase === \"Retry\") {\n                return retryPhase;\n            }\n            else if (phase === \"Serialize\") {\n                return serializePhase;\n            }\n            else if (phase === \"Deserialize\") {\n                return deserializePhase;\n            }\n            else if (phase === \"Sign\") {\n                return signPhase;\n            }\n            else {\n                return noPhase;\n            }\n        }\n        // First walk each policy and create a node to track metadata.\n        for (const descriptor of this._policies) {\n            const policy = descriptor.policy;\n            const options = descriptor.options;\n            const policyName = policy.name;\n            if (policyMap.has(policyName)) {\n                throw new Error(\"Duplicate policy names not allowed in pipeline\");\n            }\n            const node = {\n                policy,\n                dependsOn: new Set(),\n                dependants: new Set(),\n            };\n            if (options.afterPhase) {\n                node.afterPhase = getPhase(options.afterPhase);\n                node.afterPhase.hasAfterPolicies = true;\n            }\n            policyMap.set(policyName, node);\n            const phase = getPhase(options.phase);\n            phase.policies.add(node);\n        }\n        // Now that each policy has a node, connect dependency references.\n        for (const descriptor of this._policies) {\n            const { policy, options } = descriptor;\n            const policyName = policy.name;\n            const node = policyMap.get(policyName);\n            if (!node) {\n                throw new Error(`Missing node for policy ${policyName}`);\n            }\n            if (options.afterPolicies) {\n                for (const afterPolicyName of options.afterPolicies) {\n                    const afterNode = policyMap.get(afterPolicyName);\n                    if (afterNode) {\n                        // Linking in both directions helps later\n                        // when we want to notify dependants.\n                        node.dependsOn.add(afterNode);\n                        afterNode.dependants.add(node);\n                    }\n                }\n            }\n            if (options.beforePolicies) {\n                for (const beforePolicyName of options.beforePolicies) {\n                    const beforeNode = policyMap.get(beforePolicyName);\n                    if (beforeNode) {\n                        // To execute before another node, make it\n                        // depend on the current node.\n                        beforeNode.dependsOn.add(node);\n                        node.dependants.add(beforeNode);\n                    }\n                }\n            }\n        }\n        function walkPhase(phase) {\n            phase.hasRun = true;\n            // Sets iterate in insertion order\n            for (const node of phase.policies) {\n                if (node.afterPhase && (!node.afterPhase.hasRun || node.afterPhase.policies.size)) {\n                    // If this node is waiting on a phase to complete,\n                    // we need to skip it for now.\n                    // Even if the phase is empty, we should wait for it\n                    // to be walked to avoid re-ordering policies.\n                    continue;\n                }\n                if (node.dependsOn.size === 0) {\n                    // If there's nothing else we're waiting for, we can\n                    // add this policy to the result list.\n                    result.push(node.policy);\n                    // Notify anything that depends on this policy that\n                    // the policy has been scheduled.\n                    for (const dependant of node.dependants) {\n                        dependant.dependsOn.delete(node);\n                    }\n                    policyMap.delete(node.policy.name);\n                    phase.policies.delete(node);\n                }\n            }\n        }\n        function walkPhases() {\n            for (const phase of orderedPhases) {\n                walkPhase(phase);\n                // if the phase isn't complete\n                if (phase.policies.size > 0 && phase !== noPhase) {\n                    if (!noPhase.hasRun) {\n                        // Try running noPhase to see if that unblocks this phase next tick.\n                        // This can happen if a phase that happens before noPhase\n                        // is waiting on a noPhase policy to complete.\n                        walkPhase(noPhase);\n                    }\n                    // Don't proceed to the next phase until this phase finishes.\n                    return;\n                }\n                if (phase.hasAfterPolicies) {\n                    // Run any policies unblocked by this phase\n                    walkPhase(noPhase);\n                }\n            }\n        }\n        // Iterate until we've put every node in the result list.\n        let iteration = 0;\n        while (policyMap.size > 0) {\n            iteration++;\n            const initialResultLength = result.length;\n            // Keep walking each phase in order until we can order every node.\n            walkPhases();\n            // The result list *should* get at least one larger each time\n            // after the first full pass.\n            // Otherwise, we're going to loop forever.\n            if (result.length <= initialResultLength && iteration > 1) {\n                throw new Error(\"Cannot satisfy policy dependencies due to requirements cycle.\");\n            }\n        }\n        return result;\n    }\n}\n/**\n * Creates a totally empty pipeline.\n * Useful for testing or creating a custom one.\n */\nexport function createEmptyPipeline() {\n    return HttpPipeline.create();\n}\n//# sourceMappingURL=pipeline.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport function log(...args) {\n    if (args.length > 0) {\n        const firstArg = String(args[0]);\n        if (firstArg.includes(\":error\")) {\n            console.error(...args);\n        }\n        else if (firstArg.includes(\":warning\")) {\n            console.warn(...args);\n        }\n        else if (firstArg.includes(\":info\")) {\n            console.info(...args);\n        }\n        else if (firstArg.includes(\":verbose\")) {\n            console.debug(...args);\n        }\n        else {\n            console.debug(...args);\n        }\n    }\n}\n//# sourceMappingURL=log-browser.mjs.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { log } from \"./log.js\";\nconst debugEnvVariable = (typeof process !== \"undefined\" && process.env && process.env.DEBUG) || undefined;\nlet enabledString;\nlet enabledNamespaces = [];\nlet skippedNamespaces = [];\nconst debuggers = [];\nif (debugEnvVariable) {\n    enable(debugEnvVariable);\n}\nconst debugObj = Object.assign((namespace) => {\n    return createDebugger(namespace);\n}, {\n    enable,\n    enabled,\n    disable,\n    log,\n});\nfunction enable(namespaces) {\n    enabledString = namespaces;\n    enabledNamespaces = [];\n    skippedNamespaces = [];\n    const wildcard = /\\*/g;\n    const namespaceList = namespaces.split(\",\").map((ns) => ns.trim().replace(wildcard, \".*?\"));\n    for (const ns of namespaceList) {\n        if (ns.startsWith(\"-\")) {\n            skippedNamespaces.push(new RegExp(`^${ns.substr(1)}$`));\n        }\n        else {\n            enabledNamespaces.push(new RegExp(`^${ns}$`));\n        }\n    }\n    for (const instance of debuggers) {\n        instance.enabled = enabled(instance.namespace);\n    }\n}\nfunction enabled(namespace) {\n    if (namespace.endsWith(\"*\")) {\n        return true;\n    }\n    for (const skipped of skippedNamespaces) {\n        if (skipped.test(namespace)) {\n            return false;\n        }\n    }\n    for (const enabledNamespace of enabledNamespaces) {\n        if (enabledNamespace.test(namespace)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction disable() {\n    const result = enabledString || \"\";\n    enable(\"\");\n    return result;\n}\nfunction createDebugger(namespace) {\n    const newDebugger = Object.assign(debug, {\n        enabled: enabled(namespace),\n        destroy,\n        log: debugObj.log,\n        namespace,\n        extend,\n    });\n    function debug(...args) {\n        if (!newDebugger.enabled) {\n            return;\n        }\n        if (args.length > 0) {\n            args[0] = `${namespace} ${args[0]}`;\n        }\n        newDebugger.log(...args);\n    }\n    debuggers.push(newDebugger);\n    return newDebugger;\n}\nfunction destroy() {\n    const index = debuggers.indexOf(this);\n    if (index >= 0) {\n        debuggers.splice(index, 1);\n        return true;\n    }\n    return false;\n}\nfunction extend(namespace) {\n    const newDebugger = createDebugger(`${this.namespace}:${namespace}`);\n    newDebugger.log = this.log;\n    return newDebugger;\n}\nexport default debugObj;\n//# sourceMappingURL=debug.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport debug from \"./debug.js\";\nconst registeredLoggers = new Set();\nconst logLevelFromEnv = (typeof process !== \"undefined\" && process.env && process.env.TYPESPEC_RUNTIME_LOG_LEVEL) ||\n    undefined;\nlet typeSpecRuntimeLogLevel;\n/**\n * The TypeSpecRuntimeLogger provides a mechanism for overriding where logs are output to.\n * By default, logs are sent to stderr.\n * Override the `log` method to redirect logs to another location.\n */\nexport const TypeSpecRuntimeLogger = debug(\"typeSpecRuntime\");\nTypeSpecRuntimeLogger.log = (...args) => {\n    debug.log(...args);\n};\nconst TYPESPEC_RUNTIME_LOG_LEVELS = [\"verbose\", \"info\", \"warning\", \"error\"];\nif (logLevelFromEnv) {\n    // avoid calling setLogLevel because we don't want a mis-set environment variable to crash\n    if (isTypeSpecRuntimeLogLevel(logLevelFromEnv)) {\n        setLogLevel(logLevelFromEnv);\n    }\n    else {\n        console.error(`TYPESPEC_RUNTIME_LOG_LEVEL set to unknown log level '${logLevelFromEnv}'; logging is not enabled. Acceptable values: ${TYPESPEC_RUNTIME_LOG_LEVELS.join(\", \")}.`);\n    }\n}\n/**\n * Immediately enables logging at the specified log level. If no level is specified, logging is disabled.\n * @param level - The log level to enable for logging.\n * Options from most verbose to least verbose are:\n * - verbose\n * - info\n * - warning\n * - error\n */\nexport function setLogLevel(level) {\n    if (level && !isTypeSpecRuntimeLogLevel(level)) {\n        throw new Error(`Unknown log level '${level}'. Acceptable values: ${TYPESPEC_RUNTIME_LOG_LEVELS.join(\",\")}`);\n    }\n    typeSpecRuntimeLogLevel = level;\n    const enabledNamespaces = [];\n    for (const logger of registeredLoggers) {\n        if (shouldEnable(logger)) {\n            enabledNamespaces.push(logger.namespace);\n        }\n    }\n    debug.enable(enabledNamespaces.join(\",\"));\n}\n/**\n * Retrieves the currently specified log level.\n */\nexport function getLogLevel() {\n    return typeSpecRuntimeLogLevel;\n}\nconst levelMap = {\n    verbose: 400,\n    info: 300,\n    warning: 200,\n    error: 100,\n};\n/**\n * Creates a logger for use by the SDKs that inherits from `TypeSpecRuntimeLogger`.\n * @param namespace - The name of the SDK package.\n * @hidden\n */\nexport function createClientLogger(namespace) {\n    const clientRootLogger = TypeSpecRuntimeLogger.extend(namespace);\n    patchLogMethod(TypeSpecRuntimeLogger, clientRootLogger);\n    return {\n        error: createLogger(clientRootLogger, \"error\"),\n        warning: createLogger(clientRootLogger, \"warning\"),\n        info: createLogger(clientRootLogger, \"info\"),\n        verbose: createLogger(clientRootLogger, \"verbose\"),\n    };\n}\nfunction patchLogMethod(parent, child) {\n    child.log = (...args) => {\n        parent.log(...args);\n    };\n}\nfunction createLogger(parent, level) {\n    const logger = Object.assign(parent.extend(level), {\n        level,\n    });\n    patchLogMethod(parent, logger);\n    if (shouldEnable(logger)) {\n        const enabledNamespaces = debug.disable();\n        debug.enable(enabledNamespaces + \",\" + logger.namespace);\n    }\n    registeredLoggers.add(logger);\n    return logger;\n}\nfunction shouldEnable(logger) {\n    return Boolean(typeSpecRuntimeLogLevel && levelMap[logger.level] <= levelMap[typeSpecRuntimeLogLevel]);\n}\nfunction isTypeSpecRuntimeLogLevel(logLevel) {\n    return TYPESPEC_RUNTIME_LOG_LEVELS.includes(logLevel);\n}\n//# sourceMappingURL=logger.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createClientLogger } from \"./logger/logger.js\";\nexport const logger = createClientLogger(\"ts-http-runtime\");\n//# sourceMappingURL=log.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Helper to determine when an input is a generic JS object.\n * @returns true when input is an object type that is not null, Array, RegExp, or Date.\n */\nexport function isObject(input) {\n    return (typeof input === \"object\" &&\n        input !== null &&\n        !Array.isArray(input) &&\n        !(input instanceof RegExp) &&\n        !(input instanceof Date));\n}\n//# sourceMappingURL=object.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isObject } from \"./object.js\";\nconst RedactedString = \"REDACTED\";\n// Make sure this list is up-to-date with the one under core/logger/Readme#Keyconcepts\nconst defaultAllowedHeaderNames = [\n    \"x-ms-client-request-id\",\n    \"x-ms-return-client-request-id\",\n    \"x-ms-useragent\",\n    \"x-ms-correlation-request-id\",\n    \"x-ms-request-id\",\n    \"client-request-id\",\n    \"ms-cv\",\n    \"return-client-request-id\",\n    \"traceparent\",\n    \"Access-Control-Allow-Credentials\",\n    \"Access-Control-Allow-Headers\",\n    \"Access-Control-Allow-Methods\",\n    \"Access-Control-Allow-Origin\",\n    \"Access-Control-Expose-Headers\",\n    \"Access-Control-Max-Age\",\n    \"Access-Control-Request-Headers\",\n    \"Access-Control-Request-Method\",\n    \"Origin\",\n    \"Accept\",\n    \"Accept-Encoding\",\n    \"Cache-Control\",\n    \"Connection\",\n    \"Content-Length\",\n    \"Content-Type\",\n    \"Date\",\n    \"ETag\",\n    \"Expires\",\n    \"If-Match\",\n    \"If-Modified-Since\",\n    \"If-None-Match\",\n    \"If-Unmodified-Since\",\n    \"Last-Modified\",\n    \"Pragma\",\n    \"Request-Id\",\n    \"Retry-After\",\n    \"Server\",\n    \"Transfer-Encoding\",\n    \"User-Agent\",\n    \"WWW-Authenticate\",\n];\nconst defaultAllowedQueryParameters = [\"api-version\"];\n/**\n * @internal\n */\nexport class Sanitizer {\n    constructor({ additionalAllowedHeaderNames: allowedHeaderNames = [], additionalAllowedQueryParameters: allowedQueryParameters = [], } = {}) {\n        allowedHeaderNames = defaultAllowedHeaderNames.concat(allowedHeaderNames);\n        allowedQueryParameters = defaultAllowedQueryParameters.concat(allowedQueryParameters);\n        this.allowedHeaderNames = new Set(allowedHeaderNames.map((n) => n.toLowerCase()));\n        this.allowedQueryParameters = new Set(allowedQueryParameters.map((p) => p.toLowerCase()));\n    }\n    sanitize(obj) {\n        const seen = new Set();\n        return JSON.stringify(obj, (key, value) => {\n            // Ensure Errors include their interesting non-enumerable members\n            if (value instanceof Error) {\n                return Object.assign(Object.assign({}, value), { name: value.name, message: value.message });\n            }\n            if (key === \"headers\") {\n                return this.sanitizeHeaders(value);\n            }\n            else if (key === \"url\") {\n                return this.sanitizeUrl(value);\n            }\n            else if (key === \"query\") {\n                return this.sanitizeQuery(value);\n            }\n            else if (key === \"body\") {\n                // Don't log the request body\n                return undefined;\n            }\n            else if (key === \"response\") {\n                // Don't log response again\n                return undefined;\n            }\n            else if (key === \"operationSpec\") {\n                // When using sendOperationRequest, the request carries a massive\n                // field with the autorest spec. No need to log it.\n                return undefined;\n            }\n            else if (Array.isArray(value) || isObject(value)) {\n                if (seen.has(value)) {\n                    return \"[Circular]\";\n                }\n                seen.add(value);\n            }\n            return value;\n        }, 2);\n    }\n    sanitizeUrl(value) {\n        if (typeof value !== \"string\" || value === null) {\n            return value;\n        }\n        const url = new URL(value);\n        if (!url.search) {\n            return value;\n        }\n        for (const [key] of url.searchParams) {\n            if (!this.allowedQueryParameters.has(key.toLowerCase())) {\n                url.searchParams.set(key, RedactedString);\n            }\n        }\n        return url.toString();\n    }\n    sanitizeHeaders(obj) {\n        const sanitized = {};\n        for (const key of Object.keys(obj)) {\n            if (this.allowedHeaderNames.has(key.toLowerCase())) {\n                sanitized[key] = obj[key];\n            }\n            else {\n                sanitized[key] = RedactedString;\n            }\n        }\n        return sanitized;\n    }\n    sanitizeQuery(value) {\n        if (typeof value !== \"object\" || value === null) {\n            return value;\n        }\n        const sanitized = {};\n        for (const k of Object.keys(value)) {\n            if (this.allowedQueryParameters.has(k.toLowerCase())) {\n                sanitized[k] = value[k];\n            }\n            else {\n                sanitized[k] = RedactedString;\n            }\n        }\n        return sanitized;\n    }\n}\n//# sourceMappingURL=sanitizer.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { logger as coreLogger } from \"../log.js\";\nimport { Sanitizer } from \"../util/sanitizer.js\";\n/**\n * The programmatic identifier of the logPolicy.\n */\nexport const logPolicyName = \"logPolicy\";\n/**\n * A policy that logs all requests and responses.\n * @param options - Options to configure logPolicy.\n */\nexport function logPolicy(options = {}) {\n    var _a;\n    const logger = (_a = options.logger) !== null && _a !== void 0 ? _a : coreLogger.info;\n    const sanitizer = new Sanitizer({\n        additionalAllowedHeaderNames: options.additionalAllowedHeaderNames,\n        additionalAllowedQueryParameters: options.additionalAllowedQueryParameters,\n    });\n    return {\n        name: logPolicyName,\n        async sendRequest(request, next) {\n            if (!logger.enabled) {\n                return next(request);\n            }\n            logger(`Request: ${sanitizer.sanitize(request)}`);\n            const response = await next(request);\n            logger(`Response status code: ${response.status}`);\n            logger(`Headers: ${sanitizer.sanitize(response.headers)}`);\n            return response;\n        },\n    };\n}\n//# sourceMappingURL=logPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the redirectPolicy.\n */\nexport const redirectPolicyName = \"redirectPolicy\";\n/**\n * Methods that are allowed to follow redirects 301 and 302\n */\nconst allowedRedirect = [\"GET\", \"HEAD\"];\n/**\n * A policy to follow Location headers from the server in order\n * to support server-side redirection.\n * In the browser, this policy is not used.\n * @param options - Options to control policy behavior.\n */\nexport function redirectPolicy(options = {}) {\n    const { maxRetries = 20 } = options;\n    return {\n        name: redirectPolicyName,\n        async sendRequest(request, next) {\n            const response = await next(request);\n            return handleRedirect(next, response, maxRetries);\n        },\n    };\n}\nasync function handleRedirect(next, response, maxRetries, currentRetries = 0) {\n    const { request, status, headers } = response;\n    const locationHeader = headers.get(\"location\");\n    if (locationHeader &&\n        (status === 300 ||\n            (status === 301 && allowedRedirect.includes(request.method)) ||\n            (status === 302 && allowedRedirect.includes(request.method)) ||\n            (status === 303 && request.method === \"POST\") ||\n            status === 307) &&\n        currentRetries < maxRetries) {\n        const url = new URL(locationHeader, request.url);\n        request.url = url.toString();\n        // POST request with Status code 303 should be converted into a\n        // redirected GET request if the redirect url is present in the location header\n        if (status === 303) {\n            request.method = \"GET\";\n            request.headers.delete(\"Content-Length\");\n            delete request.body;\n        }\n        request.headers.delete(\"Authorization\");\n        const res = await next(request);\n        return handleRedirect(next, res, maxRetries, currentRetries + 1);\n    }\n    return response;\n}\n//# sourceMappingURL=redirectPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/*\n * NOTE: When moving this file, please update \"browser\" section in package.json.\n */\n/**\n * @internal\n */\nexport function getHeaderName() {\n    return \"x-ms-useragent\";\n}\n/**\n * @internal\n */\nexport function setPlatformSpecificData(map) {\n    var _a, _b, _c;\n    const localNavigator = globalThis.navigator;\n    map.set(\"OS\", ((_c = (_b = (_a = localNavigator === null || localNavigator === void 0 ? void 0 : localNavigator.userAgentData) === null || _a === void 0 ? void 0 : _a.platform) !== null && _b !== void 0 ? _b : localNavigator === null || localNavigator === void 0 ? void 0 : localNavigator.platform) !== null && _c !== void 0 ? _c : \"unknown\").replace(\" \", \"\"));\n}\n//# sourceMappingURL=userAgentPlatform-browser.mjs.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport const SDK_VERSION = \"1.0.0-beta.1\";\nexport const DEFAULT_RETRY_POLICY_COUNT = 3;\n//# sourceMappingURL=constants.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getHeaderName, setPlatformSpecificData } from \"./userAgentPlatform.js\";\nimport { SDK_VERSION } from \"../constants.js\";\nfunction getUserAgentString(telemetryInfo) {\n    const parts = [];\n    for (const [key, value] of telemetryInfo) {\n        const token = value ? `${key}/${value}` : key;\n        parts.push(token);\n    }\n    return parts.join(\" \");\n}\n/**\n * @internal\n */\nexport function getUserAgentHeaderName() {\n    return getHeaderName();\n}\n/**\n * @internal\n */\nexport function getUserAgentValue(prefix) {\n    const runtimeInfo = new Map();\n    runtimeInfo.set(\"ts-http-runtime\", SDK_VERSION);\n    setPlatformSpecificData(runtimeInfo);\n    const defaultAgent = getUserAgentString(runtimeInfo);\n    const userAgentValue = prefix ? `${prefix} ${defaultAgent}` : defaultAgent;\n    return userAgentValue;\n}\n//# sourceMappingURL=userAgent.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getUserAgentHeaderName, getUserAgentValue } from \"../util/userAgent.js\";\nconst UserAgentHeaderName = getUserAgentHeaderName();\n/**\n * The programmatic identifier of the userAgentPolicy.\n */\nexport const userAgentPolicyName = \"userAgentPolicy\";\n/**\n * A policy that sets the User-Agent header (or equivalent) to reflect\n * the library version.\n * @param options - Options to customize the user agent value.\n */\nexport function userAgentPolicy(options = {}) {\n    const userAgentValue = getUserAgentValue(options.userAgentPrefix);\n    return {\n        name: userAgentPolicyName,\n        async sendRequest(request, next) {\n            if (!request.headers.has(UserAgentHeaderName)) {\n                request.headers.set(UserAgentHeaderName, userAgentValue);\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=userAgentPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/*\n * NOTE: When moving this file, please update \"browser\" section in package.json\n */\nexport const decompressResponsePolicyName = \"decompressResponsePolicy\";\n/**\n * decompressResponsePolicy is not supported in the browser and attempting\n * to use it will raise an error.\n */\nexport function decompressResponsePolicy() {\n    throw new Error(\"decompressResponsePolicy is not supported in browser environment\");\n}\n//# sourceMappingURL=decompressResponsePolicy-browser.mjs.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Returns a random integer value between a lower and upper bound,\n * inclusive of both bounds.\n * Note that this uses Math.random and isn't secure. If you need to use\n * this for any kind of security purpose, find a better source of random.\n * @param min - The smallest integer value allowed.\n * @param max - The largest integer value allowed.\n */\nexport function getRandomIntegerInclusive(min, max) {\n    // Make sure inputs are integers.\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    // Pick a random offset from zero to the size of the range.\n    // Since Math.random() can never return 1, we have to make the range one larger\n    // in order to be inclusive of the maximum value after we take the floor.\n    const offset = Math.floor(Math.random() * (max - min + 1));\n    return offset + min;\n}\n//# sourceMappingURL=random.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * This error is thrown when an asynchronous operation has been aborted.\n * Check for this error by testing the `name` that the name property of the\n * error matches `\"AbortError\"`.\n *\n * @example\n * ```ts\n * const controller = new AbortController();\n * controller.abort();\n * try {\n *   doAsyncWork(controller.signal)\n * } catch (e) {\n *   if (e.name === 'AbortError') {\n *     // handle abort error here.\n *   }\n * }\n * ```\n */\nexport class AbortError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"AbortError\";\n    }\n}\n//# sourceMappingURL=AbortError.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AbortError } from \"../abort-controller/AbortError.js\";\nconst StandardAbortMessage = \"The operation was aborted.\";\n/**\n * A wrapper for setTimeout that resolves a promise after delayInMs milliseconds.\n * @param delayInMs - The number of milliseconds to be delayed.\n * @param value - The value to be resolved with after a timeout of t milliseconds.\n * @param options - The options for delay - currently abort options\n *                  - abortSignal - The abortSignal associated with containing operation.\n *                  - abortErrorMsg - The abort error message associated with containing operation.\n * @returns Resolved promise\n */\nexport function delay(delayInMs, value, options) {\n    return new Promise((resolve, reject) => {\n        let timer = undefined;\n        let onAborted = undefined;\n        const rejectOnAbort = () => {\n            return reject(new AbortError((options === null || options === void 0 ? void 0 : options.abortErrorMsg) ? options === null || options === void 0 ? void 0 : options.abortErrorMsg : StandardAbortMessage));\n        };\n        const removeListeners = () => {\n            if ((options === null || options === void 0 ? void 0 : options.abortSignal) && onAborted) {\n                options.abortSignal.removeEventListener(\"abort\", onAborted);\n            }\n        };\n        onAborted = () => {\n            if (timer) {\n                clearTimeout(timer);\n            }\n            removeListeners();\n            return rejectOnAbort();\n        };\n        if ((options === null || options === void 0 ? void 0 : options.abortSignal) && options.abortSignal.aborted) {\n            return rejectOnAbort();\n        }\n        timer = setTimeout(() => {\n            removeListeners();\n            resolve(value);\n        }, delayInMs);\n        if (options === null || options === void 0 ? void 0 : options.abortSignal) {\n            options.abortSignal.addEventListener(\"abort\", onAborted);\n        }\n    });\n}\n/**\n * @internal\n * @returns the parsed value or undefined if the parsed value is invalid.\n */\nexport function parseHeaderValueAsNumber(response, headerName) {\n    const value = response.headers.get(headerName);\n    if (!value)\n        return;\n    const valueAsNum = Number(value);\n    if (Number.isNaN(valueAsNum))\n        return;\n    return valueAsNum;\n}\n//# sourceMappingURL=helpers.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { parseHeaderValueAsNumber } from \"../util/helpers.js\";\n/**\n * The header that comes back from services representing\n * the amount of time (minimum) to wait to retry (in seconds or timestamp after which we can retry).\n */\nconst RetryAfterHeader = \"Retry-After\";\n/**\n * The headers that come back from services representing\n * the amount of time (minimum) to wait to retry.\n *\n * \"retry-after-ms\", \"x-ms-retry-after-ms\" : milliseconds\n * \"Retry-After\" : seconds or timestamp\n */\nconst AllRetryAfterHeaders = [\"retry-after-ms\", \"x-ms-retry-after-ms\", RetryAfterHeader];\n/**\n * A response is a throttling retry response if it has a throttling status code (429 or 503),\n * as long as one of the [ \"Retry-After\" or \"retry-after-ms\" or \"x-ms-retry-after-ms\" ] headers has a valid value.\n *\n * Returns the `retryAfterInMs` value if the response is a throttling retry response.\n * If not throttling retry response, returns `undefined`.\n *\n * @internal\n */\nfunction getRetryAfterInMs(response) {\n    if (!(response && [429, 503].includes(response.status)))\n        return undefined;\n    try {\n        // Headers: \"retry-after-ms\", \"x-ms-retry-after-ms\", \"Retry-After\"\n        for (const header of AllRetryAfterHeaders) {\n            const retryAfterValue = parseHeaderValueAsNumber(response, header);\n            if (retryAfterValue === 0 || retryAfterValue) {\n                // \"Retry-After\" header ==> seconds\n                // \"retry-after-ms\", \"x-ms-retry-after-ms\" headers ==> milli-seconds\n                const multiplyingFactor = header === RetryAfterHeader ? 1000 : 1;\n                return retryAfterValue * multiplyingFactor; // in milli-seconds\n            }\n        }\n        // RetryAfterHeader (\"Retry-After\") has a special case where it might be formatted as a date instead of a number of seconds\n        const retryAfterHeader = response.headers.get(RetryAfterHeader);\n        if (!retryAfterHeader)\n            return;\n        const date = Date.parse(retryAfterHeader);\n        const diff = date - Date.now();\n        // negative diff would mean a date in the past, so retry asap with 0 milliseconds\n        return Number.isFinite(diff) ? Math.max(0, diff) : undefined;\n    }\n    catch (e) {\n        return undefined;\n    }\n}\n/**\n * A response is a retry response if it has a throttling status code (429 or 503),\n * as long as one of the [ \"Retry-After\" or \"retry-after-ms\" or \"x-ms-retry-after-ms\" ] headers has a valid value.\n */\nexport function isThrottlingRetryResponse(response) {\n    return Number.isFinite(getRetryAfterInMs(response));\n}\nexport function throttlingRetryStrategy() {\n    return {\n        name: \"throttlingRetryStrategy\",\n        retry({ response }) {\n            const retryAfterInMs = getRetryAfterInMs(response);\n            if (!Number.isFinite(retryAfterInMs)) {\n                return { skipStrategy: true };\n            }\n            return {\n                retryAfterInMs,\n            };\n        },\n    };\n}\n//# sourceMappingURL=throttlingRetryStrategy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getRandomIntegerInclusive } from \"../util/random.js\";\nimport { isThrottlingRetryResponse } from \"./throttlingRetryStrategy.js\";\n// intervals are in milliseconds\nconst DEFAULT_CLIENT_RETRY_INTERVAL = 1000;\nconst DEFAULT_CLIENT_MAX_RETRY_INTERVAL = 1000 * 64;\n/**\n * A retry strategy that retries with an exponentially increasing delay in these two cases:\n * - When there are errors in the underlying transport layer (e.g. DNS lookup failures).\n * - Or otherwise if the outgoing request fails (408, greater or equal than 500, except for 501 and 505).\n */\nexport function exponentialRetryStrategy(options = {}) {\n    var _a, _b;\n    const retryInterval = (_a = options.retryDelayInMs) !== null && _a !== void 0 ? _a : DEFAULT_CLIENT_RETRY_INTERVAL;\n    const maxRetryInterval = (_b = options.maxRetryDelayInMs) !== null && _b !== void 0 ? _b : DEFAULT_CLIENT_MAX_RETRY_INTERVAL;\n    let retryAfterInMs = retryInterval;\n    return {\n        name: \"exponentialRetryStrategy\",\n        retry({ retryCount, response, responseError }) {\n            const matchedSystemError = isSystemError(responseError);\n            const ignoreSystemErrors = matchedSystemError && options.ignoreSystemErrors;\n            const isExponential = isExponentialRetryResponse(response);\n            const ignoreExponentialResponse = isExponential && options.ignoreHttpStatusCodes;\n            const unknownResponse = response && (isThrottlingRetryResponse(response) || !isExponential);\n            if (unknownResponse || ignoreExponentialResponse || ignoreSystemErrors) {\n                return { skipStrategy: true };\n            }\n            if (responseError && !matchedSystemError && !isExponential) {\n                return { errorToThrow: responseError };\n            }\n            // Exponentially increase the delay each time\n            const exponentialDelay = retryAfterInMs * Math.pow(2, retryCount);\n            // Don't let the delay exceed the maximum\n            const clampedExponentialDelay = Math.min(maxRetryInterval, exponentialDelay);\n            // Allow the final value to have some \"jitter\" (within 50% of the delay size) so\n            // that retries across multiple clients don't occur simultaneously.\n            retryAfterInMs =\n                clampedExponentialDelay / 2 + getRandomIntegerInclusive(0, clampedExponentialDelay / 2);\n            return { retryAfterInMs };\n        },\n    };\n}\n/**\n * A response is a retry response if it has status codes:\n * - 408, or\n * - Greater or equal than 500, except for 501 and 505.\n */\nexport function isExponentialRetryResponse(response) {\n    return Boolean(response &&\n        response.status !== undefined &&\n        (response.status >= 500 || response.status === 408) &&\n        response.status !== 501 &&\n        response.status !== 505);\n}\n/**\n * Determines whether an error from a pipeline response was triggered in the network layer.\n */\nexport function isSystemError(err) {\n    if (!err) {\n        return false;\n    }\n    return (err.code === \"ETIMEDOUT\" ||\n        err.code === \"ESOCKETTIMEDOUT\" ||\n        err.code === \"ECONNREFUSED\" ||\n        err.code === \"ECONNRESET\" ||\n        err.code === \"ENOENT\" ||\n        err.code === \"ENOTFOUND\");\n}\n//# sourceMappingURL=exponentialRetryStrategy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { delay } from \"../util/helpers.js\";\nimport { AbortError } from \"../abort-controller/AbortError.js\";\nimport { createClientLogger } from \"../logger/logger.js\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants.js\";\nconst retryPolicyLogger = createClientLogger(\"core-rest-pipeline retryPolicy\");\n/**\n * The programmatic identifier of the retryPolicy.\n */\nconst retryPolicyName = \"retryPolicy\";\n/**\n * retryPolicy is a generic policy to enable retrying requests when certain conditions are met\n */\nexport function retryPolicy(strategies, options = { maxRetries: DEFAULT_RETRY_POLICY_COUNT }) {\n    const logger = options.logger || retryPolicyLogger;\n    return {\n        name: retryPolicyName,\n        async sendRequest(request, next) {\n            var _a, _b;\n            let response;\n            let responseError;\n            let retryCount = -1;\n            // eslint-disable-next-line no-constant-condition\n            retryRequest: while (true) {\n                retryCount += 1;\n                response = undefined;\n                responseError = undefined;\n                try {\n                    logger.info(`Retry ${retryCount}: Attempting to send request`, request.requestId);\n                    response = await next(request);\n                    logger.info(`Retry ${retryCount}: Received a response from request`, request.requestId);\n                }\n                catch (e) {\n                    logger.error(`Retry ${retryCount}: Received an error from request`, request.requestId);\n                    // RestErrors are valid targets for the retry strategies.\n                    // If none of the retry strategies can work with them, they will be thrown later in this policy.\n                    // If the received error is not a RestError, it is immediately thrown.\n                    responseError = e;\n                    if (!e || responseError.name !== \"RestError\") {\n                        throw e;\n                    }\n                    response = responseError.response;\n                }\n                if ((_a = request.abortSignal) === null || _a === void 0 ? void 0 : _a.aborted) {\n                    logger.error(`Retry ${retryCount}: Request aborted.`);\n                    const abortError = new AbortError();\n                    throw abortError;\n                }\n                if (retryCount >= ((_b = options.maxRetries) !== null && _b !== void 0 ? _b : DEFAULT_RETRY_POLICY_COUNT)) {\n                    logger.info(`Retry ${retryCount}: Maximum retries reached. Returning the last received response, or throwing the last received error.`);\n                    if (responseError) {\n                        throw responseError;\n                    }\n                    else if (response) {\n                        return response;\n                    }\n                    else {\n                        throw new Error(\"Maximum retries reached with no response or error to throw\");\n                    }\n                }\n                logger.info(`Retry ${retryCount}: Processing ${strategies.length} retry strategies.`);\n                strategiesLoop: for (const strategy of strategies) {\n                    const strategyLogger = strategy.logger || retryPolicyLogger;\n                    strategyLogger.info(`Retry ${retryCount}: Processing retry strategy ${strategy.name}.`);\n                    const modifiers = strategy.retry({\n                        retryCount,\n                        response,\n                        responseError,\n                    });\n                    if (modifiers.skipStrategy) {\n                        strategyLogger.info(`Retry ${retryCount}: Skipped.`);\n                        continue strategiesLoop;\n                    }\n                    const { errorToThrow, retryAfterInMs, redirectTo } = modifiers;\n                    if (errorToThrow) {\n                        strategyLogger.error(`Retry ${retryCount}: Retry strategy ${strategy.name} throws error:`, errorToThrow);\n                        throw errorToThrow;\n                    }\n                    if (retryAfterInMs || retryAfterInMs === 0) {\n                        strategyLogger.info(`Retry ${retryCount}: Retry strategy ${strategy.name} retries after ${retryAfterInMs}`);\n                        await delay(retryAfterInMs, undefined, { abortSignal: request.abortSignal });\n                        continue retryRequest;\n                    }\n                    if (redirectTo) {\n                        strategyLogger.info(`Retry ${retryCount}: Retry strategy ${strategy.name} redirects to ${redirectTo}`);\n                        request.url = redirectTo;\n                        continue retryRequest;\n                    }\n                }\n                if (responseError) {\n                    logger.info(`None of the retry strategies could work with the received error. Throwing it.`);\n                    throw responseError;\n                }\n                if (response) {\n                    logger.info(`None of the retry strategies could work with the received response. Returning it.`);\n                    return response;\n                }\n                // If all the retries skip and there's no response,\n                // we're still in the retry loop, so a new request will be sent\n                // until `maxRetries` is reached.\n            }\n        },\n    };\n}\n//# sourceMappingURL=retryPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { exponentialRetryStrategy } from \"../retryStrategies/exponentialRetryStrategy.js\";\nimport { throttlingRetryStrategy } from \"../retryStrategies/throttlingRetryStrategy.js\";\nimport { retryPolicy } from \"./retryPolicy.js\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants.js\";\n/**\n * Name of the {@link defaultRetryPolicy}\n */\nexport const defaultRetryPolicyName = \"defaultRetryPolicy\";\n/**\n * A policy that retries according to three strategies:\n * - When the server sends a 429 response with a Retry-After header.\n * - When there are errors in the underlying transport layer (e.g. DNS lookup failures).\n * - Or otherwise if the outgoing request fails, it will retry with an exponentially increasing delay.\n */\nexport function defaultRetryPolicy(options = {}) {\n    var _a;\n    return {\n        name: defaultRetryPolicyName,\n        sendRequest: retryPolicy([throttlingRetryStrategy(), exponentialRetryStrategy(options)], {\n            maxRetries: (_a = options.maxRetries) !== null && _a !== void 0 ? _a : DEFAULT_RETRY_POLICY_COUNT,\n        }).sendRequest,\n    };\n}\n//# sourceMappingURL=defaultRetryPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The helper that transforms bytes with specific character encoding into string\n * @param bytes - the uint8array bytes\n * @param format - the format we use to encode the byte\n * @returns a string of the encoded string\n */\nexport function uint8ArrayToString(bytes, format) {\n    switch (format) {\n        case \"utf-8\":\n            return uint8ArrayToUtf8String(bytes);\n        case \"base64\":\n            return uint8ArrayToBase64(bytes);\n        case \"base64url\":\n            return uint8ArrayToBase64Url(bytes);\n        case \"hex\":\n            return uint8ArrayToHexString(bytes);\n    }\n}\n/**\n * The helper that transforms string to specific character encoded bytes array.\n * @param value - the string to be converted\n * @param format - the format we use to decode the value\n * @returns a uint8array\n */\nexport function stringToUint8Array(value, format) {\n    switch (format) {\n        case \"utf-8\":\n            return utf8StringToUint8Array(value);\n        case \"base64\":\n            return base64ToUint8Array(value);\n        case \"base64url\":\n            return base64UrlToUint8Array(value);\n        case \"hex\":\n            return hexStringToUint8Array(value);\n    }\n}\n/**\n * Decodes a Uint8Array into a Base64 string.\n * @internal\n */\nexport function uint8ArrayToBase64(bytes) {\n    return btoa([...bytes].map((x) => String.fromCharCode(x)).join(\"\"));\n}\n/**\n * Decodes a Uint8Array into a Base64Url string.\n * @internal\n */\nexport function uint8ArrayToBase64Url(bytes) {\n    return uint8ArrayToBase64(bytes).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\");\n}\n/**\n * Decodes a Uint8Array into a javascript string.\n * @internal\n */\nexport function uint8ArrayToUtf8String(bytes) {\n    const decoder = new TextDecoder();\n    const dataString = decoder.decode(bytes);\n    return dataString;\n}\n/**\n * Decodes a Uint8Array into a hex string\n * @internal\n */\nexport function uint8ArrayToHexString(bytes) {\n    return [...bytes].map((x) => x.toString(16).padStart(2, \"0\")).join(\"\");\n}\n/**\n * Encodes a JavaScript string into a Uint8Array.\n * @internal\n */\nexport function utf8StringToUint8Array(value) {\n    return new TextEncoder().encode(value);\n}\n/**\n * Encodes a Base64 string into a Uint8Array.\n * @internal\n */\nexport function base64ToUint8Array(value) {\n    return new Uint8Array([...atob(value)].map((x) => x.charCodeAt(0)));\n}\n/**\n * Encodes a Base64Url string into a Uint8Array.\n * @internal\n */\nexport function base64UrlToUint8Array(value) {\n    const base64String = value.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    return base64ToUint8Array(base64String);\n}\nconst hexDigits = new Set(\"0123456789abcdefABCDEF\");\n/**\n * Encodes a hex string into a Uint8Array\n * @internal\n */\nexport function hexStringToUint8Array(value) {\n    // If value has odd length, the last character will be ignored, consistent with NodeJS Buffer behavior\n    const bytes = new Uint8Array(value.length / 2);\n    for (let i = 0; i < value.length / 2; ++i) {\n        const highNibble = value[2 * i];\n        const lowNibble = value[2 * i + 1];\n        if (!hexDigits.has(highNibble) || !hexDigits.has(lowNibble)) {\n            // Replicate Node Buffer behavior by exiting early when we encounter an invalid byte\n            return bytes.slice(0, i);\n        }\n        bytes[i] = parseInt(`${highNibble}${lowNibble}`, 16);\n    }\n    return bytes;\n}\n//# sourceMappingURL=bytesEncoding-browser.mjs.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar _a, _b, _c, _d;\n/**\n * A constant that indicates whether the environment the code is running is a Web Browser.\n */\n// eslint-disable-next-line @azure/azure-sdk/ts-no-window\nexport const isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\";\n/**\n * A constant that indicates whether the environment the code is running is a Web Worker.\n */\nexport const isWebWorker = typeof self === \"object\" &&\n    typeof (self === null || self === void 0 ? void 0 : self.importScripts) === \"function\" &&\n    (((_a = self.constructor) === null || _a === void 0 ? void 0 : _a.name) === \"DedicatedWorkerGlobalScope\" ||\n        ((_b = self.constructor) === null || _b === void 0 ? void 0 : _b.name) === \"ServiceWorkerGlobalScope\" ||\n        ((_c = self.constructor) === null || _c === void 0 ? void 0 : _c.name) === \"SharedWorkerGlobalScope\");\n/**\n * A constant that indicates whether the environment the code is running is Bun.sh.\n */\nexport const isBun = typeof Bun !== \"undefined\" && typeof Bun.version !== \"undefined\";\n/**\n * A constant that indicates whether the environment the code is running is Deno.\n */\nexport const isDeno = typeof Deno !== \"undefined\" &&\n    typeof Deno.version !== \"undefined\" &&\n    typeof Deno.version.deno !== \"undefined\";\n/**\n * A constant that indicates whether the environment the code is running is a Node.js compatible environment.\n */\nexport const isNodeLike = typeof globalThis.process !== \"undefined\" &&\n    Boolean(globalThis.process.version) &&\n    Boolean((_d = globalThis.process.versions) === null || _d === void 0 ? void 0 : _d.node);\n/**\n * A constant that indicates whether the environment the code is running is a Node.js compatible environment.\n * @deprecated Use `isNodeLike` instead.\n */\nexport const isNode = isNodeLike;\n/**\n * A constant that indicates whether the environment the code is running is Node.JS.\n */\nexport const isNodeRuntime = isNodeLike && !isBun && !isDeno;\n/**\n * A constant that indicates whether the environment the code is running is in React-Native.\n */\n// https://github.com/facebook/react-native/blob/main/packages/react-native/Libraries/Core/setUpNavigator.js\nexport const isReactNative = typeof navigator !== \"undefined\" && (navigator === null || navigator === void 0 ? void 0 : navigator.product) === \"ReactNative\";\n//# sourceMappingURL=checkEnvironment.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nfunction normalizeName(name) {\n    return name.toLowerCase();\n}\nfunction* headerIterator(map) {\n    for (const entry of map.values()) {\n        yield [entry.name, entry.value];\n    }\n}\nclass HttpHeadersImpl {\n    constructor(rawHeaders) {\n        this._headersMap = new Map();\n        if (rawHeaders) {\n            for (const headerName of Object.keys(rawHeaders)) {\n                this.set(headerName, rawHeaders[headerName]);\n            }\n        }\n    }\n    /**\n     * Set a header in this collection with the provided name and value. The name is\n     * case-insensitive.\n     * @param name - The name of the header to set. This value is case-insensitive.\n     * @param value - The value of the header to set.\n     */\n    set(name, value) {\n        this._headersMap.set(normalizeName(name), { name, value: String(value).trim() });\n    }\n    /**\n     * Get the header value for the provided header name, or undefined if no header exists in this\n     * collection with the provided name.\n     * @param name - The name of the header. This value is case-insensitive.\n     */\n    get(name) {\n        var _a;\n        return (_a = this._headersMap.get(normalizeName(name))) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    /**\n     * Get whether or not this header collection contains a header entry for the provided header name.\n     * @param name - The name of the header to set. This value is case-insensitive.\n     */\n    has(name) {\n        return this._headersMap.has(normalizeName(name));\n    }\n    /**\n     * Remove the header with the provided headerName.\n     * @param name - The name of the header to remove.\n     */\n    delete(name) {\n        this._headersMap.delete(normalizeName(name));\n    }\n    /**\n     * Get the JSON object representation of this HTTP header collection.\n     */\n    toJSON(options = {}) {\n        const result = {};\n        if (options.preserveCase) {\n            for (const entry of this._headersMap.values()) {\n                result[entry.name] = entry.value;\n            }\n        }\n        else {\n            for (const [normalizedName, entry] of this._headersMap) {\n                result[normalizedName] = entry.value;\n            }\n        }\n        return result;\n    }\n    /**\n     * Get the string representation of this HTTP header collection.\n     */\n    toString() {\n        return JSON.stringify(this.toJSON({ preserveCase: true }));\n    }\n    /**\n     * Iterate over tuples of header [name, value] pairs.\n     */\n    [Symbol.iterator]() {\n        return headerIterator(this._headersMap);\n    }\n}\n/**\n * Creates an object that satisfies the `HttpHeaders` interface.\n * @param rawHeaders - A simple object representing initial headers\n */\nexport function createHttpHeaders(rawHeaders) {\n    return new HttpHeadersImpl(rawHeaders);\n}\n//# sourceMappingURL=httpHeaders.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { stringToUint8Array } from \"../util/bytesEncoding.js\";\nimport { isNodeLike } from \"../util/checkEnvironment.js\";\nimport { createHttpHeaders } from \"../httpHeaders.js\";\n/**\n * The programmatic identifier of the formDataPolicy.\n */\nexport const formDataPolicyName = \"formDataPolicy\";\nfunction formDataToFormDataMap(formData) {\n    var _a;\n    const formDataMap = {};\n    for (const [key, value] of formData.entries()) {\n        (_a = formDataMap[key]) !== null && _a !== void 0 ? _a : (formDataMap[key] = []);\n        formDataMap[key].push(value);\n    }\n    return formDataMap;\n}\n/**\n * A policy that encodes FormData on the request into the body.\n */\nexport function formDataPolicy() {\n    return {\n        name: formDataPolicyName,\n        async sendRequest(request, next) {\n            if (isNodeLike && typeof FormData !== \"undefined\" && request.body instanceof FormData) {\n                request.formData = formDataToFormDataMap(request.body);\n                request.body = undefined;\n            }\n            if (request.formData) {\n                const contentType = request.headers.get(\"Content-Type\");\n                if (contentType && contentType.indexOf(\"application/x-www-form-urlencoded\") !== -1) {\n                    request.body = wwwFormUrlEncode(request.formData);\n                }\n                else {\n                    await prepareFormData(request.formData, request);\n                }\n                request.formData = undefined;\n            }\n            return next(request);\n        },\n    };\n}\nfunction wwwFormUrlEncode(formData) {\n    const urlSearchParams = new URLSearchParams();\n    for (const [key, value] of Object.entries(formData)) {\n        if (Array.isArray(value)) {\n            for (const subValue of value) {\n                urlSearchParams.append(key, subValue.toString());\n            }\n        }\n        else {\n            urlSearchParams.append(key, value.toString());\n        }\n    }\n    return urlSearchParams.toString();\n}\nasync function prepareFormData(formData, request) {\n    // validate content type (multipart/form-data)\n    const contentType = request.headers.get(\"Content-Type\");\n    if (contentType && !contentType.startsWith(\"multipart/form-data\")) {\n        // content type is specified and is not multipart/form-data. Exit.\n        return;\n    }\n    request.headers.set(\"Content-Type\", contentType !== null && contentType !== void 0 ? contentType : \"multipart/form-data\");\n    // set body to MultipartRequestBody using content from FormDataMap\n    const parts = [];\n    for (const [fieldName, values] of Object.entries(formData)) {\n        for (const value of Array.isArray(values) ? values : [values]) {\n            if (typeof value === \"string\") {\n                parts.push({\n                    headers: createHttpHeaders({\n                        \"Content-Disposition\": `form-data; name=\"${fieldName}\"`,\n                    }),\n                    body: stringToUint8Array(value, \"utf-8\"),\n                });\n            }\n            else if (value === undefined || value === null || typeof value !== \"object\") {\n                throw new Error(`Unexpected value for key ${fieldName}: ${value}. Value should be serialized to string first.`);\n            }\n            else {\n                // using || instead of ?? here since if value.name is empty we should create a file name\n                const fileName = value.name || \"blob\";\n                const headers = createHttpHeaders();\n                headers.set(\"Content-Disposition\", `form-data; name=\"${fieldName}\"; filename=\"${fileName}\"`);\n                // again, || is used since an empty value.type means the content type is unset\n                headers.set(\"Content-Type\", value.type || \"application/octet-stream\");\n                parts.push({\n                    headers,\n                    body: value,\n                });\n            }\n        }\n    }\n    request.multipartBody = { parts };\n}\n//# sourceMappingURL=formDataPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/*\n * NOTE: When moving this file, please update \"browser\" section in package.json\n */\nexport const proxyPolicyName = \"proxyPolicy\";\nconst errorMessage = \"proxyPolicy is not supported in browser environment\";\nexport function getDefaultProxySettings() {\n    throw new Error(errorMessage);\n}\n/**\n * proxyPolicy is not supported in the browser and attempting\n * to use it will raise an error.\n */\nexport function proxyPolicy() {\n    throw new Error(errorMessage);\n}\n/**\n * A function to reset the cached agents.\n * proxyPolicy is not supported in the browser and attempting\n * to use it will raise an error.\n * @internal\n */\nexport function resetCachedProxyAgents() {\n    throw new Error(errorMessage);\n}\n//# sourceMappingURL=proxyPolicy-browser.mjs.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Name of the TLS Policy\n */\nexport const tlsPolicyName = \"tlsPolicy\";\n/**\n * Gets a pipeline policy that adds the client certificate to the HttpClient agent for authentication.\n */\nexport function tlsPolicy(tlsSettings) {\n    return {\n        name: tlsPolicyName,\n        sendRequest: async (req, next) => {\n            // Users may define a request tlsSettings, honor those over the client level one\n            if (!req.tlsSettings) {\n                req.tlsSettings = tlsSettings;\n            }\n            return next(req);\n        },\n    };\n}\n//# sourceMappingURL=tlsPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/** @internal */\nexport const knownContextKeys = {\n    span: Symbol.for(\"@typespec/ts-http-runtime span\"),\n    namespace: Symbol.for(\"@typespec/ts-http-runtime namespace\"),\n};\n/**\n * Creates a new {@link TracingContext} with the given options.\n * @param options - A set of known keys that may be set on the context.\n * @returns A new {@link TracingContext} with the given options.\n *\n * @internal\n */\nexport function createTracingContext(options = {}) {\n    let context = new TracingContextImpl(options.parentContext);\n    if (options.span) {\n        context = context.setValue(knownContextKeys.span, options.span);\n    }\n    if (options.namespace) {\n        context = context.setValue(knownContextKeys.namespace, options.namespace);\n    }\n    return context;\n}\n/** @internal */\nexport class TracingContextImpl {\n    constructor(initialContext) {\n        this._contextMap =\n            initialContext instanceof TracingContextImpl\n                ? new Map(initialContext._contextMap)\n                : new Map();\n    }\n    setValue(key, value) {\n        const newContext = new TracingContextImpl(this);\n        newContext._contextMap.set(key, value);\n        return newContext;\n    }\n    getValue(key) {\n        return this._contextMap.get(key);\n    }\n    deleteValue(key) {\n        const newContext = new TracingContextImpl(this);\n        newContext._contextMap.delete(key);\n        return newContext;\n    }\n}\n//# sourceMappingURL=tracingContext.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTracingContext } from \"./tracingContext.js\";\nexport function createDefaultTracingSpan() {\n    return {\n        end: () => {\n            // noop\n        },\n        isRecording: () => false,\n        recordException: () => {\n            // noop\n        },\n        setAttribute: () => {\n            // noop\n        },\n        setStatus: () => {\n            // noop\n        },\n    };\n}\nexport function createDefaultInstrumenter() {\n    return {\n        createRequestHeaders: () => {\n            return {};\n        },\n        parseTraceparentHeader: () => {\n            return undefined;\n        },\n        startSpan: (_name, spanOptions) => {\n            return {\n                span: createDefaultTracingSpan(),\n                tracingContext: createTracingContext({ parentContext: spanOptions.tracingContext }),\n            };\n        },\n        withContext(_context, callback, ...callbackArgs) {\n            return callback(...callbackArgs);\n        },\n    };\n}\n/** @internal */\nlet instrumenterImplementation;\n/**\n * Extends the SDK with support for a given instrumenter implementation.\n *\n * @param instrumenter - The instrumenter implementation to use.\n */\nexport function useInstrumenter(instrumenter) {\n    instrumenterImplementation = instrumenter;\n}\n/**\n * Gets the currently set instrumenter, a No-Op instrumenter by default.\n *\n * @returns The currently set instrumenter\n */\nexport function getInstrumenter() {\n    if (!instrumenterImplementation) {\n        instrumenterImplementation = createDefaultInstrumenter();\n    }\n    return instrumenterImplementation;\n}\n//# sourceMappingURL=instrumenter.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getInstrumenter } from \"./instrumenter.js\";\nimport { knownContextKeys } from \"./tracingContext.js\";\n/**\n * Creates a new tracing client.\n *\n * @param options - Options used to configure the tracing client.\n * @returns - An instance of {@link TracingClient}.\n */\nexport function createTracingClient(options) {\n    const { namespace, packageName, packageVersion } = options;\n    function startSpan(name, operationOptions, spanOptions) {\n        var _a;\n        const startSpanResult = getInstrumenter().startSpan(name, Object.assign(Object.assign({}, spanOptions), { packageName: packageName, packageVersion: packageVersion, tracingContext: (_a = operationOptions === null || operationOptions === void 0 ? void 0 : operationOptions.tracingOptions) === null || _a === void 0 ? void 0 : _a.tracingContext }));\n        let tracingContext = startSpanResult.tracingContext;\n        const span = startSpanResult.span;\n        if (!tracingContext.getValue(knownContextKeys.namespace)) {\n            tracingContext = tracingContext.setValue(knownContextKeys.namespace, namespace);\n        }\n        span.setAttribute(\"az.namespace\", tracingContext.getValue(knownContextKeys.namespace));\n        const updatedOptions = Object.assign({}, operationOptions, {\n            tracingOptions: Object.assign(Object.assign({}, operationOptions === null || operationOptions === void 0 ? void 0 : operationOptions.tracingOptions), { tracingContext }),\n        });\n        return {\n            span,\n            updatedOptions,\n        };\n    }\n    async function withSpan(name, operationOptions, callback, spanOptions) {\n        const { span, updatedOptions } = startSpan(name, operationOptions, spanOptions);\n        try {\n            const result = await withContext(updatedOptions.tracingOptions.tracingContext, () => Promise.resolve(callback(updatedOptions, span)));\n            span.setStatus({ status: \"success\" });\n            return result;\n        }\n        catch (err) {\n            span.setStatus({ status: \"error\", error: err });\n            throw err;\n        }\n        finally {\n            span.end();\n        }\n    }\n    function withContext(context, callback, ...callbackArgs) {\n        return getInstrumenter().withContext(context, callback, ...callbackArgs);\n    }\n    /**\n     * Parses a traceparent header value into a span identifier.\n     *\n     * @param traceparentHeader - The traceparent header to parse.\n     * @returns An implementation-specific identifier for the span.\n     */\n    function parseTraceparentHeader(traceparentHeader) {\n        return getInstrumenter().parseTraceparentHeader(traceparentHeader);\n    }\n    /**\n     * Creates a set of request headers to propagate tracing information to a backend.\n     *\n     * @param tracingContext - The context containing the span to serialize.\n     * @returns The set of headers to add to a request.\n     */\n    function createRequestHeaders(tracingContext) {\n        return getInstrumenter().createRequestHeaders(tracingContext);\n    }\n    return {\n        startSpan,\n        withSpan,\n        withContext,\n        parseTraceparentHeader,\n        createRequestHeaders,\n    };\n}\n//# sourceMappingURL=tracingClient.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isObject } from \"./object.js\";\n/**\n * Typeguard for an error object shape (has name and message)\n * @param e - Something caught by a catch clause.\n */\nexport function isError(e) {\n    if (isObject(e)) {\n        const hasName = typeof e.name === \"string\";\n        const hasMessage = typeof e.message === \"string\";\n        return hasName && hasMessage;\n    }\n    return false;\n}\n/**\n * Given what is thought to be an error object, return the message if possible.\n * If the message is missing, returns a stringified version of the input.\n * @param e - Something thrown from a try block\n * @returns The error message or a string of the input\n */\nexport function getErrorMessage(e) {\n    if (isError(e)) {\n        return e.message;\n    }\n    else {\n        let stringified;\n        try {\n            if (typeof e === \"object\" && e) {\n                stringified = JSON.stringify(e);\n            }\n            else {\n                stringified = String(e);\n            }\n        }\n        catch (err) {\n            stringified = \"[unable to stringify input]\";\n        }\n        return `Unknown error ${stringified}`;\n    }\n}\n//# sourceMappingURL=error.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport const custom = {};\n//# sourceMappingURL=inspect-browser.mjs.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isError } from \"./util/error.js\";\nimport { custom } from \"./util/inspect.js\";\nimport { Sanitizer } from \"./util/sanitizer.js\";\nconst errorSanitizer = new Sanitizer();\n/**\n * A custom error type for failed pipeline requests.\n */\nexport class RestError extends Error {\n    constructor(message, options = {}) {\n        super(message);\n        this.name = \"RestError\";\n        this.code = options.code;\n        this.statusCode = options.statusCode;\n        this.request = options.request;\n        this.response = options.response;\n        Object.setPrototypeOf(this, RestError.prototype);\n    }\n    /**\n     * Logging method for util.inspect in Node\n     */\n    [custom]() {\n        return `RestError: ${this.message} \\n ${errorSanitizer.sanitize(this)}`;\n    }\n}\n/**\n * Something went wrong when making the request.\n * This means the actual request failed for some reason,\n * such as a DNS issue or the connection being lost.\n */\nRestError.REQUEST_SEND_ERROR = \"REQUEST_SEND_ERROR\";\n/**\n * This means that parsing the response from the server failed.\n * It may have been malformed.\n */\nRestError.PARSE_ERROR = \"PARSE_ERROR\";\n/**\n * Typeguard for RestError\n * @param e - Something caught by a catch clause.\n */\nexport function isRestError(e) {\n    if (e instanceof RestError) {\n        return true;\n    }\n    return isError(e) && e.name === \"RestError\";\n}\n//# sourceMappingURL=restError.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTracingClient } from \"../tracing/tracingClient.js\";\nimport { SDK_VERSION } from \"../constants.js\";\nimport { getUserAgentValue } from \"../util/userAgent.js\";\nimport { logger } from \"../log.js\";\nimport { getErrorMessage, isError } from \"../util/error.js\";\nimport { isRestError } from \"../restError.js\";\nimport { Sanitizer } from \"../util/sanitizer.js\";\n/**\n * The programmatic identifier of the tracingPolicy.\n */\nexport const tracingPolicyName = \"tracingPolicy\";\n/**\n * A simple policy to create OpenTelemetry Spans for each request made by the pipeline\n * that has SpanOptions with a parent.\n * Requests made without a parent Span will not be recorded.\n * @param options - Options to configure the telemetry logged by the tracing policy.\n */\nexport function tracingPolicy(options = {}) {\n    const userAgent = getUserAgentValue(options.userAgentPrefix);\n    const sanitizer = new Sanitizer({\n        additionalAllowedQueryParameters: options.additionalAllowedQueryParameters,\n    });\n    const tracingClient = tryCreateTracingClient();\n    return {\n        name: tracingPolicyName,\n        async sendRequest(request, next) {\n            var _a, _b;\n            if (!tracingClient || !((_a = request.tracingOptions) === null || _a === void 0 ? void 0 : _a.tracingContext)) {\n                return next(request);\n            }\n            const spanAttributes = {\n                \"http.url\": sanitizer.sanitizeUrl(request.url),\n                \"http.method\": request.method,\n                \"http.user_agent\": userAgent,\n                requestId: request.requestId,\n            };\n            if (userAgent) {\n                spanAttributes[\"http.user_agent\"] = userAgent;\n            }\n            const { span, tracingContext } = (_b = tryCreateSpan(tracingClient, request, spanAttributes)) !== null && _b !== void 0 ? _b : {};\n            if (!span || !tracingContext) {\n                return next(request);\n            }\n            try {\n                const response = await tracingClient.withContext(tracingContext, next, request);\n                tryProcessResponse(span, response);\n                return response;\n            }\n            catch (err) {\n                tryProcessError(span, err);\n                throw err;\n            }\n        },\n    };\n}\nfunction tryCreateTracingClient() {\n    try {\n        return createTracingClient({\n            namespace: \"\",\n            packageName: \"@typespec/ts-http-runtime\",\n            packageVersion: SDK_VERSION,\n        });\n    }\n    catch (e) {\n        logger.warning(`Error when creating the TracingClient: ${getErrorMessage(e)}`);\n        return undefined;\n    }\n}\nfunction tryCreateSpan(tracingClient, request, spanAttributes) {\n    try {\n        // As per spec, we do not need to differentiate between HTTP and HTTPS in span name.\n        const { span, updatedOptions } = tracingClient.startSpan(`HTTP ${request.method}`, { tracingOptions: request.tracingOptions }, {\n            spanKind: \"client\",\n            spanAttributes,\n        });\n        // If the span is not recording, don't do any more work.\n        if (!span.isRecording()) {\n            span.end();\n            return undefined;\n        }\n        // set headers\n        const headers = tracingClient.createRequestHeaders(updatedOptions.tracingOptions.tracingContext);\n        for (const [key, value] of Object.entries(headers)) {\n            request.headers.set(key, value);\n        }\n        return { span, tracingContext: updatedOptions.tracingOptions.tracingContext };\n    }\n    catch (e) {\n        logger.warning(`Skipping creating a tracing span due to an error: ${getErrorMessage(e)}`);\n        return undefined;\n    }\n}\nfunction tryProcessError(span, error) {\n    try {\n        span.setStatus({\n            status: \"error\",\n            error: isError(error) ? error : undefined,\n        });\n        if (isRestError(error) && error.statusCode) {\n            span.setAttribute(\"http.status_code\", error.statusCode);\n        }\n        span.end();\n    }\n    catch (e) {\n        logger.warning(`Skipping tracing span processing due to an error: ${getErrorMessage(e)}`);\n    }\n}\nfunction tryProcessResponse(span, response) {\n    try {\n        span.setAttribute(\"http.status_code\", response.status);\n        const serviceRequestId = response.headers.get(\"x-ms-request-id\");\n        if (serviceRequestId) {\n            span.setAttribute(\"serviceRequestId\", serviceRequestId);\n        }\n        span.setStatus({\n            status: \"success\",\n        });\n        span.end();\n    }\n    catch (e) {\n        logger.warning(`Skipping tracing span processing due to an error: ${getErrorMessage(e)}`);\n    }\n}\n//# sourceMappingURL=tracingPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Helper TypeGuard that checks if something is defined or not.\n * @param thing - Anything\n */\nexport function isDefined(thing) {\n    return typeof thing !== \"undefined\" && thing !== null;\n}\n/**\n * Helper TypeGuard that checks if the input is an object with the specified properties.\n * @param thing - Anything.\n * @param properties - The name of the properties that should appear in the object.\n */\nexport function isObjectWithProperties(thing, properties) {\n    if (!isDefined(thing) || typeof thing !== \"object\") {\n        return false;\n    }\n    for (const property of properties) {\n        if (!objectHasProperty(thing, property)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Helper TypeGuard that checks if the input is an object with the specified property.\n * @param thing - Any object.\n * @param property - The name of the property that should appear in the object.\n */\nexport function objectHasProperty(thing, property) {\n    return (isDefined(thing) && typeof thing === \"object\" && property in thing);\n}\nexport function isNodeReadableStream(x) {\n    return Boolean(x && typeof x[\"pipe\"] === \"function\");\n}\nexport function isWebReadableStream(x) {\n    return Boolean(x &&\n        typeof x.getReader === \"function\" &&\n        typeof x.tee === \"function\");\n}\nexport function isBinaryBody(body) {\n    return (body !== undefined &&\n        (body instanceof Uint8Array ||\n            isReadableStream(body) ||\n            typeof body === \"function\" ||\n            body instanceof Blob));\n}\nexport function isReadableStream(x) {\n    return isNodeReadableStream(x) || isWebReadableStream(x);\n}\nexport function isBlob(x) {\n    return typeof x.stream === \"function\";\n}\n//# sourceMappingURL=typeGuards.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/*\n * NOTE: When moving this file, please update \"react-native\" section in package.json.\n */\n/**\n * Generated Universally Unique Identifier\n *\n * @returns RFC4122 v4 UUID.\n */\nexport function generateUUID() {\n    let uuid = \"\";\n    for (let i = 0; i < 32; i++) {\n        // Generate a random number between 0 and 15\n        const randomNumber = Math.floor(Math.random() * 16);\n        // Set the UUID version to 4 in the 13th position\n        if (i === 12) {\n            uuid += \"4\";\n        }\n        else if (i === 16) {\n            // Set the UUID variant to \"10\" in the 17th position\n            uuid += (randomNumber & 0x3) | 0x8;\n        }\n        else {\n            // Add a random hexadecimal digit to the UUID string\n            uuid += randomNumber.toString(16);\n        }\n        // Add hyphens to the UUID string at the appropriate positions\n        if (i === 7 || i === 11 || i === 15 || i === 19) {\n            uuid += \"-\";\n        }\n    }\n    return uuid;\n}\n/**\n * Generated Universally Unique Identifier\n *\n * @returns RFC4122 v4 UUID.\n */\nexport function randomUUID() {\n    return generateUUID();\n}\n//# sourceMappingURL=uuidUtils.common.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar _a;\nimport { generateUUID } from \"./uuidUtils.common.js\";\n// NOTE: This could be undefined if not used in a secure context\nconst uuidFunction = typeof ((_a = globalThis === null || globalThis === void 0 ? void 0 : globalThis.crypto) === null || _a === void 0 ? void 0 : _a.randomUUID) === \"function\"\n    ? globalThis.crypto.randomUUID.bind(globalThis.crypto)\n    : generateUUID;\n/**\n * Generated Universally Unique Identifier\n *\n * @returns RFC4122 v4 UUID.\n */\nexport function randomUUID() {\n    return uuidFunction();\n}\n//# sourceMappingURL=uuidUtils-browser.mjs.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isNodeLike } from \"./checkEnvironment.js\";\nimport { isNodeReadableStream } from \"./typeGuards.js\";\nconst unimplementedMethods = {\n    arrayBuffer: () => {\n        throw new Error(\"Not implemented\");\n    },\n    slice: () => {\n        throw new Error(\"Not implemented\");\n    },\n    text: () => {\n        throw new Error(\"Not implemented\");\n    },\n};\n/**\n * Private symbol used as key on objects created using createFile containing the\n * original source of the file object.\n *\n * This is used in Node to access the original Node stream without using Blob#stream, which\n * returns a web stream. This is done to avoid a couple of bugs to do with Blob#stream and\n * Readable#to/fromWeb in Node versions we support:\n * - https://github.com/nodejs/node/issues/42694 (fixed in Node 18.14)\n * - https://github.com/nodejs/node/issues/48916 (fixed in Node 20.6)\n *\n * Once these versions are no longer supported, we may be able to stop doing this.\n *\n * @internal\n */\nconst rawContent = Symbol(\"rawContent\");\nfunction hasRawContent(x) {\n    return typeof x[rawContent] === \"function\";\n}\n/**\n * Extract the raw content from a given blob-like object. If the input was created using createFile\n * or createFileFromStream, the exact content passed into createFile/createFileFromStream will be used.\n * For true instances of Blob and File, returns the blob's content as a Web ReadableStream<Uint8Array>.\n *\n * @internal\n */\nexport function getRawContent(blob) {\n    if (hasRawContent(blob)) {\n        return blob[rawContent]();\n    }\n    else {\n        return blob.stream();\n    }\n}\n/**\n * Create an object that implements the File interface. This object is intended to be\n * passed into RequestBodyType.formData, and is not guaranteed to work as expected in\n * other situations.\n *\n * Use this function to:\n * - Create a File object for use in RequestBodyType.formData in environments where the\n *   global File object is unavailable.\n * - Create a File-like object from a readable stream without reading the stream into memory.\n *\n * @param stream - the content of the file as a callback returning a stream. When a File object made using createFile is\n *                  passed in a request's form data map, the stream will not be read into memory\n *                  and instead will be streamed when the request is made. In the event of a retry, the\n *                  stream needs to be read again, so this callback SHOULD return a fresh stream if possible.\n * @param name - the name of the file.\n * @param options - optional metadata about the file, e.g. file name, file size, MIME type.\n */\nexport function createFileFromStream(stream, name, options = {}) {\n    var _a, _b, _c, _d;\n    return Object.assign(Object.assign({}, unimplementedMethods), { type: (_a = options.type) !== null && _a !== void 0 ? _a : \"\", lastModified: (_b = options.lastModified) !== null && _b !== void 0 ? _b : new Date().getTime(), webkitRelativePath: (_c = options.webkitRelativePath) !== null && _c !== void 0 ? _c : \"\", size: (_d = options.size) !== null && _d !== void 0 ? _d : -1, name, stream: () => {\n            const s = stream();\n            if (isNodeReadableStream(s)) {\n                throw new Error(\"Not supported: a Node stream was provided as input to createFileFromStream.\");\n            }\n            return s;\n        }, [rawContent]: stream });\n}\n/**\n * Create an object that implements the File interface. This object is intended to be\n * passed into RequestBodyType.formData, and is not guaranteed to work as expected in\n * other situations.\n *\n * Use this function create a File object for use in RequestBodyType.formData in environments where the global File object is unavailable.\n *\n * @param content - the content of the file as a Uint8Array in memory.\n * @param name - the name of the file.\n * @param options - optional metadata about the file, e.g. file name, file size, MIME type.\n */\nexport function createFile(content, name, options = {}) {\n    var _a, _b, _c;\n    if (isNodeLike) {\n        return Object.assign(Object.assign({}, unimplementedMethods), { type: (_a = options.type) !== null && _a !== void 0 ? _a : \"\", lastModified: (_b = options.lastModified) !== null && _b !== void 0 ? _b : new Date().getTime(), webkitRelativePath: (_c = options.webkitRelativePath) !== null && _c !== void 0 ? _c : \"\", size: content.byteLength, name, arrayBuffer: async () => content.buffer, stream: () => new Blob([content]).stream(), [rawContent]: () => content });\n    }\n    else {\n        return new File([content], name, options);\n    }\n}\n//# sourceMappingURL=file.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getRawContent } from \"./file.js\";\nimport { isNodeReadableStream, isWebReadableStream } from \"./typeGuards.js\";\n/**\n * Drain the content of the given ReadableStream into a Blob.\n * The blob's content may end up in memory or on disk dependent on size.\n */\nfunction drain(stream) {\n    return new Response(stream).blob();\n}\nasync function toBlobPart(source) {\n    if (source instanceof Blob || source instanceof Uint8Array) {\n        return source;\n    }\n    if (isWebReadableStream(source)) {\n        return drain(source);\n    }\n    // If it's not a true Blob, and it's not a Uint8Array, we can assume the source\n    // is a fake File created by createFileFromStream and we can get the original stream\n    // using getRawContent.\n    const rawContent = getRawContent(source);\n    // Shouldn't happen but guard for it anyway\n    if (isNodeReadableStream(rawContent)) {\n        throw new Error(\"Encountered unexpected type. In the browser, `concat` supports Web ReadableStream, Blob, Uint8Array, and files created using `createFile` only.\");\n    }\n    return toBlobPart(rawContent);\n}\n/**\n * Utility function that concatenates a set of binary inputs into one combined output.\n *\n * @param sources - array of sources for the concatenation\n * @returns - in Node, a (() =\\> NodeJS.ReadableStream) which, when read, produces a concatenation of all the inputs.\n *           In browser, returns a `Blob` representing all the concatenated inputs.\n *\n * @internal\n */\nexport async function concat(sources) {\n    const parts = [];\n    for (const source of sources) {\n        parts.push(await toBlobPart(typeof source === \"function\" ? source() : source));\n    }\n    return new Blob(parts);\n}\n//# sourceMappingURL=concat-browser.mjs.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { stringToUint8Array } from \"../util/bytesEncoding.js\";\nimport { isBlob } from \"../util/typeGuards.js\";\nimport { randomUUID } from \"../util/uuidUtils.js\";\nimport { concat } from \"../util/concat.js\";\nfunction generateBoundary() {\n    return `----AzSDKFormBoundary${randomUUID()}`;\n}\nfunction encodeHeaders(headers) {\n    let result = \"\";\n    for (const [key, value] of headers) {\n        result += `${key}: ${value}\\r\\n`;\n    }\n    return result;\n}\nfunction getLength(source) {\n    if (source instanceof Uint8Array) {\n        return source.byteLength;\n    }\n    else if (isBlob(source)) {\n        // if was created using createFile then -1 means we have an unknown size\n        return source.size === -1 ? undefined : source.size;\n    }\n    else {\n        return undefined;\n    }\n}\nfunction getTotalLength(sources) {\n    let total = 0;\n    for (const source of sources) {\n        const partLength = getLength(source);\n        if (partLength === undefined) {\n            return undefined;\n        }\n        else {\n            total += partLength;\n        }\n    }\n    return total;\n}\nasync function buildRequestBody(request, parts, boundary) {\n    const sources = [\n        stringToUint8Array(`--${boundary}`, \"utf-8\"),\n        ...parts.flatMap((part) => [\n            stringToUint8Array(\"\\r\\n\", \"utf-8\"),\n            stringToUint8Array(encodeHeaders(part.headers), \"utf-8\"),\n            stringToUint8Array(\"\\r\\n\", \"utf-8\"),\n            part.body,\n            stringToUint8Array(`\\r\\n--${boundary}`, \"utf-8\"),\n        ]),\n        stringToUint8Array(\"--\\r\\n\\r\\n\", \"utf-8\"),\n    ];\n    const contentLength = getTotalLength(sources);\n    if (contentLength) {\n        request.headers.set(\"Content-Length\", contentLength);\n    }\n    request.body = await concat(sources);\n}\n/**\n * Name of multipart policy\n */\nexport const multipartPolicyName = \"multipartPolicy\";\nconst maxBoundaryLength = 70;\nconst validBoundaryCharacters = new Set(`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?`);\nfunction assertValidBoundary(boundary) {\n    if (boundary.length > maxBoundaryLength) {\n        throw new Error(`Multipart boundary \"${boundary}\" exceeds maximum length of 70 characters`);\n    }\n    if (Array.from(boundary).some((x) => !validBoundaryCharacters.has(x))) {\n        throw new Error(`Multipart boundary \"${boundary}\" contains invalid characters`);\n    }\n}\n/**\n * Pipeline policy for multipart requests\n */\nexport function multipartPolicy() {\n    return {\n        name: multipartPolicyName,\n        async sendRequest(request, next) {\n            var _a;\n            if (!request.multipartBody) {\n                return next(request);\n            }\n            if (request.body) {\n                throw new Error(\"multipartBody and regular body cannot be set at the same time\");\n            }\n            let boundary = request.multipartBody.boundary;\n            const contentTypeHeader = (_a = request.headers.get(\"Content-Type\")) !== null && _a !== void 0 ? _a : \"multipart/mixed\";\n            const parsedHeader = contentTypeHeader.match(/^(multipart\\/[^ ;]+)(?:; *boundary=(.+))?$/);\n            if (!parsedHeader) {\n                throw new Error(`Got multipart request body, but content-type header was not multipart: ${contentTypeHeader}`);\n            }\n            const [, contentType, parsedBoundary] = parsedHeader;\n            if (parsedBoundary && boundary && parsedBoundary !== boundary) {\n                throw new Error(`Multipart boundary was specified as ${parsedBoundary} in the header, but got ${boundary} in the request body`);\n            }\n            boundary !== null && boundary !== void 0 ? boundary : (boundary = parsedBoundary);\n            if (boundary) {\n                assertValidBoundary(boundary);\n            }\n            else {\n                boundary = generateBoundary();\n            }\n            request.headers.set(\"Content-Type\", `${contentType}; boundary=${boundary}`);\n            await buildRequestBody(request, request.multipartBody.parts, boundary);\n            request.multipartBody = undefined;\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=multipartPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { logPolicy } from \"./policies/logPolicy.js\";\nimport { createEmptyPipeline } from \"./pipeline.js\";\nimport { redirectPolicy } from \"./policies/redirectPolicy.js\";\nimport { userAgentPolicy } from \"./policies/userAgentPolicy.js\";\nimport { decompressResponsePolicy } from \"./policies/decompressResponsePolicy.js\";\nimport { defaultRetryPolicy } from \"./policies/defaultRetryPolicy.js\";\nimport { formDataPolicy } from \"./policies/formDataPolicy.js\";\nimport { isNodeLike } from \"./util/checkEnvironment.js\";\nimport { proxyPolicy } from \"./policies/proxyPolicy.js\";\nimport { tlsPolicy } from \"./policies/tlsPolicy.js\";\nimport { tracingPolicy } from \"./policies/tracingPolicy.js\";\nimport { multipartPolicy, multipartPolicyName } from \"./policies/multipartPolicy.js\";\n/**\n * Create a new pipeline with a default set of customizable policies.\n * @param options - Options to configure a custom pipeline.\n */\nexport function createPipelineFromOptions(options) {\n    const pipeline = createEmptyPipeline();\n    if (isNodeLike) {\n        if (options.tlsOptions) {\n            pipeline.addPolicy(tlsPolicy(options.tlsOptions));\n        }\n        pipeline.addPolicy(proxyPolicy(options.proxyOptions));\n        pipeline.addPolicy(decompressResponsePolicy());\n    }\n    pipeline.addPolicy(formDataPolicy(), { beforePolicies: [multipartPolicyName] });\n    pipeline.addPolicy(userAgentPolicy(options.userAgentOptions));\n    // The multipart policy is added after policies with no phase, so that\n    // policies can be added between it and formDataPolicy to modify\n    // properties (e.g., making the boundary constant in recorded tests).\n    pipeline.addPolicy(multipartPolicy(), { afterPhase: \"Deserialize\" });\n    pipeline.addPolicy(defaultRetryPolicy(options.retryOptions), { phase: \"Retry\" });\n    pipeline.addPolicy(tracingPolicy(Object.assign(Object.assign({}, options.userAgentOptions), options.loggingOptions)), {\n        afterPhase: \"Retry\",\n    });\n    if (isNodeLike) {\n        // Both XHR and Fetch expect to handle redirects automatically,\n        // so only include this policy when we're in Node.\n        pipeline.addPolicy(redirectPolicy(options.redirectOptions), { afterPhase: \"Retry\" });\n    }\n    pipeline.addPolicy(logPolicy(options.loggingOptions), { afterPhase: \"Sign\" });\n    return pipeline;\n}\n//# sourceMappingURL=createPipelineFromOptions.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AbortError } from \"./abort-controller/AbortError.js\";\nimport { RestError } from \"./restError.js\";\nimport { createHttpHeaders } from \"./httpHeaders.js\";\nimport { isNodeReadableStream, isReadableStream } from \"./util/typeGuards.js\";\n/**\n * Checks if the body is a Blob or Blob-like\n */\nfunction isBlob(body) {\n    // File objects count as a type of Blob, so we want to use instanceof explicitly\n    return (typeof Blob === \"function\" || typeof Blob === \"object\") && body instanceof Blob;\n}\n/**\n * A HttpClient implementation that uses window.fetch to send HTTP requests.\n * @internal\n */\nclass FetchHttpClient {\n    /**\n     * Makes a request over an underlying transport layer and returns the response.\n     * @param request - The request to be made.\n     */\n    async sendRequest(request) {\n        const url = new URL(request.url);\n        const isInsecure = url.protocol !== \"https:\";\n        if (isInsecure && !request.allowInsecureConnection) {\n            throw new Error(`Cannot connect to ${request.url} while allowInsecureConnection is false.`);\n        }\n        if (request.proxySettings) {\n            throw new Error(\"HTTP proxy is not supported in browser environment\");\n        }\n        try {\n            return await makeRequest(request);\n        }\n        catch (e) {\n            throw getError(e, request);\n        }\n    }\n}\n/**\n * Sends a request\n */\nasync function makeRequest(request) {\n    const { abortController, abortControllerCleanup } = setupAbortSignal(request);\n    try {\n        const headers = buildFetchHeaders(request.headers);\n        const { streaming, body: requestBody } = buildRequestBody(request);\n        const requestInit = Object.assign(Object.assign({ body: requestBody, method: request.method, headers: headers, signal: abortController.signal }, (\"credentials\" in Request.prototype\n            ? { credentials: request.withCredentials ? \"include\" : \"same-origin\" }\n            : {})), (\"cache\" in Request.prototype ? { cache: \"no-store\" } : {}));\n        // According to https://fetch.spec.whatwg.org/#fetch-method,\n        // init.duplex must be set when body is a ReadableStream object.\n        // currently \"half\" is the only valid value.\n        if (streaming) {\n            requestInit.duplex = \"half\";\n        }\n        /**\n         * Developers of the future:\n         * Do not set redirect: \"manual\" as part\n         * of request options.\n         * It will not work as you expect.\n         */\n        const response = await fetch(request.url, requestInit);\n        // If we're uploading a blob, we need to fire the progress event manually\n        if (isBlob(request.body) && request.onUploadProgress) {\n            request.onUploadProgress({ loadedBytes: request.body.size });\n        }\n        return buildPipelineResponse(response, request, abortControllerCleanup);\n    }\n    catch (e) {\n        abortControllerCleanup === null || abortControllerCleanup === void 0 ? void 0 : abortControllerCleanup();\n        throw e;\n    }\n}\n/**\n * Creates a pipeline response from a Fetch response;\n */\nasync function buildPipelineResponse(httpResponse, request, abortControllerCleanup) {\n    var _a, _b;\n    const headers = buildPipelineHeaders(httpResponse);\n    const response = {\n        request,\n        headers,\n        status: httpResponse.status,\n    };\n    const bodyStream = isReadableStream(httpResponse.body)\n        ? buildBodyStream(httpResponse.body, {\n            onProgress: request.onDownloadProgress,\n            onEnd: abortControllerCleanup,\n        })\n        : httpResponse.body;\n    if (\n    // Value of POSITIVE_INFINITY in streamResponseStatusCodes is considered as any status code\n    ((_a = request.streamResponseStatusCodes) === null || _a === void 0 ? void 0 : _a.has(Number.POSITIVE_INFINITY)) ||\n        ((_b = request.streamResponseStatusCodes) === null || _b === void 0 ? void 0 : _b.has(response.status))) {\n        if (request.enableBrowserStreams) {\n            response.browserStreamBody = bodyStream !== null && bodyStream !== void 0 ? bodyStream : undefined;\n        }\n        else {\n            const responseStream = new Response(bodyStream);\n            response.blobBody = responseStream.blob();\n            abortControllerCleanup === null || abortControllerCleanup === void 0 ? void 0 : abortControllerCleanup();\n        }\n    }\n    else {\n        const responseStream = new Response(bodyStream);\n        response.bodyAsText = await responseStream.text();\n        abortControllerCleanup === null || abortControllerCleanup === void 0 ? void 0 : abortControllerCleanup();\n    }\n    return response;\n}\nfunction setupAbortSignal(request) {\n    const abortController = new AbortController();\n    // Cleanup function\n    let abortControllerCleanup;\n    /**\n     * Attach an abort listener to the request\n     */\n    let abortListener;\n    if (request.abortSignal) {\n        if (request.abortSignal.aborted) {\n            throw new AbortError(\"The operation was aborted.\");\n        }\n        abortListener = (event) => {\n            if (event.type === \"abort\") {\n                abortController.abort();\n            }\n        };\n        request.abortSignal.addEventListener(\"abort\", abortListener);\n        abortControllerCleanup = () => {\n            var _a;\n            if (abortListener) {\n                (_a = request.abortSignal) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"abort\", abortListener);\n            }\n        };\n    }\n    // If a timeout was passed, call the abort signal once the time elapses\n    if (request.timeout > 0) {\n        setTimeout(() => {\n            abortController.abort();\n        }, request.timeout);\n    }\n    return { abortController, abortControllerCleanup };\n}\n/**\n * Gets the specific error\n */\n// eslint-disable-next-line @azure/azure-sdk/ts-use-interface-parameters\nfunction getError(e, request) {\n    var _a;\n    if (e && (e === null || e === void 0 ? void 0 : e.name) === \"AbortError\") {\n        return e;\n    }\n    else {\n        return new RestError(`Error sending request: ${e.message}`, {\n            code: (_a = e === null || e === void 0 ? void 0 : e.code) !== null && _a !== void 0 ? _a : RestError.REQUEST_SEND_ERROR,\n            request,\n        });\n    }\n}\n/**\n * Converts PipelineRequest headers to Fetch headers\n */\nfunction buildFetchHeaders(pipelineHeaders) {\n    const headers = new Headers();\n    for (const [name, value] of pipelineHeaders) {\n        headers.append(name, value);\n    }\n    return headers;\n}\nfunction buildPipelineHeaders(httpResponse) {\n    const responseHeaders = createHttpHeaders();\n    for (const [name, value] of httpResponse.headers) {\n        responseHeaders.set(name, value);\n    }\n    return responseHeaders;\n}\nfunction buildRequestBody(request) {\n    const body = typeof request.body === \"function\" ? request.body() : request.body;\n    if (isNodeReadableStream(body)) {\n        throw new Error(\"Node streams are not supported in browser environment.\");\n    }\n    return isReadableStream(body)\n        ? { streaming: true, body: buildBodyStream(body, { onProgress: request.onUploadProgress }) }\n        : { streaming: false, body };\n}\n/**\n * Reads the request/response original stream and stream it through a new\n * ReadableStream, this is done to be able to report progress in a way that\n * all modern browsers support. TransformStreams would be an alternative,\n * however they are not yet supported by all browsers i.e Firefox\n */\nfunction buildBodyStream(readableStream, options = {}) {\n    let loadedBytes = 0;\n    const { onProgress, onEnd } = options;\n    // If the current browser supports pipeThrough we use a TransformStream\n    // to report progress\n    if (isTransformStreamSupported(readableStream)) {\n        return readableStream.pipeThrough(new TransformStream({\n            transform(chunk, controller) {\n                if (chunk === null) {\n                    controller.terminate();\n                    return;\n                }\n                controller.enqueue(chunk);\n                loadedBytes += chunk.length;\n                if (onProgress) {\n                    onProgress({ loadedBytes });\n                }\n            },\n            flush() {\n                onEnd === null || onEnd === void 0 ? void 0 : onEnd();\n            },\n        }));\n    }\n    else {\n        // If we can't use transform streams, wrap the original stream in a new readable stream\n        // and use pull to enqueue each chunk and report progress.\n        const reader = readableStream.getReader();\n        return new ReadableStream({\n            async pull(controller) {\n                var _a;\n                const { done, value } = await reader.read();\n                // When no more data needs to be consumed, break the reading\n                if (done || !value) {\n                    onEnd === null || onEnd === void 0 ? void 0 : onEnd();\n                    // Close the stream\n                    controller.close();\n                    reader.releaseLock();\n                    return;\n                }\n                loadedBytes += (_a = value === null || value === void 0 ? void 0 : value.length) !== null && _a !== void 0 ? _a : 0;\n                // Enqueue the next data chunk into our target stream\n                controller.enqueue(value);\n                if (onProgress) {\n                    onProgress({ loadedBytes });\n                }\n            },\n            cancel(reason) {\n                onEnd === null || onEnd === void 0 ? void 0 : onEnd();\n                return reader.cancel(reason);\n            },\n        });\n    }\n}\n/**\n * Create a new HttpClient instance for the browser environment.\n * @internal\n */\nexport function createFetchHttpClient() {\n    return new FetchHttpClient();\n}\nfunction isTransformStreamSupported(readableStream) {\n    return readableStream.pipeThrough !== undefined && self.TransformStream !== undefined;\n}\n//# sourceMappingURL=fetchHttpClient.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createFetchHttpClient } from \"./fetchHttpClient.js\";\n/**\n * Create the correct HttpClient for the current environment.\n */\nexport function createDefaultHttpClient() {\n    return createFetchHttpClient();\n}\n//# sourceMappingURL=defaultHttpClient-browser.mjs.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createHttpHeaders } from \"./httpHeaders.js\";\nimport { randomUUID } from \"./util/uuidUtils.js\";\nclass PipelineRequestImpl {\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        this.url = options.url;\n        this.body = options.body;\n        this.headers = (_a = options.headers) !== null && _a !== void 0 ? _a : createHttpHeaders();\n        this.method = (_b = options.method) !== null && _b !== void 0 ? _b : \"GET\";\n        this.timeout = (_c = options.timeout) !== null && _c !== void 0 ? _c : 0;\n        this.multipartBody = options.multipartBody;\n        this.formData = options.formData;\n        this.disableKeepAlive = (_d = options.disableKeepAlive) !== null && _d !== void 0 ? _d : false;\n        this.proxySettings = options.proxySettings;\n        this.streamResponseStatusCodes = options.streamResponseStatusCodes;\n        this.withCredentials = (_e = options.withCredentials) !== null && _e !== void 0 ? _e : false;\n        this.abortSignal = options.abortSignal;\n        this.tracingOptions = options.tracingOptions;\n        this.onUploadProgress = options.onUploadProgress;\n        this.onDownloadProgress = options.onDownloadProgress;\n        this.requestId = options.requestId || randomUUID();\n        this.allowInsecureConnection = (_f = options.allowInsecureConnection) !== null && _f !== void 0 ? _f : false;\n        this.enableBrowserStreams = (_g = options.enableBrowserStreams) !== null && _g !== void 0 ? _g : false;\n    }\n}\n/**\n * Creates a new pipeline request with the given options.\n * This method is to allow for the easy setting of default values and not required.\n * @param options - The options to create the request with.\n */\nexport function createPipelineRequest(options) {\n    return new PipelineRequestImpl(options);\n}\n//# sourceMappingURL=pipelineRequest.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { delay } from \"./helpers.js\";\n// Default options for the cycler if none are provided\nexport const DEFAULT_CYCLER_OPTIONS = {\n    forcedRefreshWindowInMs: 1000, // Force waiting for a refresh 1s before the token expires\n    retryIntervalInMs: 3000, // Allow refresh attempts every 3s\n    refreshWindowInMs: 1000 * 60 * 2, // Start refreshing 2m before expiry\n};\n/**\n * Converts an an unreliable access token getter (which may resolve with null)\n * into an AccessTokenGetter by retrying the unreliable getter in a regular\n * interval.\n *\n * @param getAccessToken - A function that produces a promise of an access token that may fail by returning null.\n * @param retryIntervalInMs - The time (in milliseconds) to wait between retry attempts.\n * @param refreshTimeout - The timestamp after which the refresh attempt will fail, throwing an exception.\n * @returns - A promise that, if it resolves, will resolve with an access token.\n */\nasync function beginRefresh(getAccessToken, retryIntervalInMs, refreshTimeout) {\n    // This wrapper handles exceptions gracefully as long as we haven't exceeded\n    // the timeout.\n    async function tryGetAccessToken() {\n        if (Date.now() < refreshTimeout) {\n            try {\n                return await getAccessToken();\n            }\n            catch (_a) {\n                return null;\n            }\n        }\n        else {\n            const finalToken = await getAccessToken();\n            // Timeout is up, so throw if it's still null\n            if (finalToken === null) {\n                throw new Error(\"Failed to refresh access token.\");\n            }\n            return finalToken;\n        }\n    }\n    let token = await tryGetAccessToken();\n    while (token === null) {\n        await delay(retryIntervalInMs);\n        token = await tryGetAccessToken();\n    }\n    return token;\n}\n/**\n * Creates a token cycler from a credential, scopes, and optional settings.\n *\n * A token cycler represents a way to reliably retrieve a valid access token\n * from a TokenCredential. It will handle initializing the token, refreshing it\n * when it nears expiration, and synchronizes refresh attempts to avoid\n * concurrency hazards.\n *\n * @param credential - the underlying TokenCredential that provides the access\n * token\n * @param tokenCyclerOptions - optionally override default settings for the cycler\n *\n * @returns - a function that reliably produces a valid access token\n */\nexport function createTokenCycler(credential, tokenCyclerOptions) {\n    let refreshWorker = null;\n    let token = null;\n    let tenantId;\n    const options = Object.assign(Object.assign({}, DEFAULT_CYCLER_OPTIONS), tokenCyclerOptions);\n    /**\n     * This little holder defines several predicates that we use to construct\n     * the rules of refreshing the token.\n     */\n    const cycler = {\n        /**\n         * Produces true if a refresh job is currently in progress.\n         */\n        get isRefreshing() {\n            return refreshWorker !== null;\n        },\n        /**\n         * Produces true if the cycler SHOULD refresh (we are within the refresh\n         * window and not already refreshing)\n         */\n        get shouldRefresh() {\n            var _a;\n            return (!cycler.isRefreshing &&\n                ((_a = token === null || token === void 0 ? void 0 : token.expiresOnTimestamp) !== null && _a !== void 0 ? _a : 0) - options.refreshWindowInMs < Date.now());\n        },\n        /**\n         * Produces true if the cycler MUST refresh (null or nearly-expired\n         * token).\n         */\n        get mustRefresh() {\n            return (token === null || token.expiresOnTimestamp - options.forcedRefreshWindowInMs < Date.now());\n        },\n    };\n    /**\n     * Starts a refresh job or returns the existing job if one is already\n     * running.\n     */\n    function refresh(scopes, getTokenOptions) {\n        var _a;\n        if (!cycler.isRefreshing) {\n            // We bind `scopes` here to avoid passing it around a lot\n            const tryGetAccessToken = () => credential.getToken(scopes, getTokenOptions);\n            // Take advantage of promise chaining to insert an assignment to `token`\n            // before the refresh can be considered done.\n            refreshWorker = beginRefresh(tryGetAccessToken, options.retryIntervalInMs, \n            // If we don't have a token, then we should timeout immediately\n            (_a = token === null || token === void 0 ? void 0 : token.expiresOnTimestamp) !== null && _a !== void 0 ? _a : Date.now())\n                .then((_token) => {\n                refreshWorker = null;\n                token = _token;\n                tenantId = getTokenOptions.tenantId;\n                return token;\n            })\n                .catch((reason) => {\n                // We also should reset the refresher if we enter a failed state.  All\n                // existing awaiters will throw, but subsequent requests will start a\n                // new retry chain.\n                refreshWorker = null;\n                token = null;\n                tenantId = undefined;\n                throw reason;\n            });\n        }\n        return refreshWorker;\n    }\n    return async (scopes, tokenOptions) => {\n        //\n        // Simple rules:\n        // - If we MUST refresh, then return the refresh task, blocking\n        //   the pipeline until a token is available.\n        // - If we SHOULD refresh, then run refresh but don't return it\n        //   (we can still use the cached token).\n        // - Return the token, since it's fine if we didn't return in\n        //   step 1.\n        //\n        const hasClaimChallenge = Boolean(tokenOptions.claims);\n        const tenantIdChanged = tenantId !== tokenOptions.tenantId;\n        if (hasClaimChallenge) {\n            // If we've received a claim, we know the existing token isn't valid\n            // We want to clear it so that that refresh worker won't use the old expiration time as a timeout\n            token = null;\n        }\n        // If the tenantId passed in token options is different to the one we have\n        // Or if we are in claim challenge and the token was rejected and a new access token need to be issued, we need to\n        // refresh the token with the new tenantId or token.\n        const mustRefresh = tenantIdChanged || hasClaimChallenge || cycler.mustRefresh;\n        if (mustRefresh) {\n            return refresh(scopes, tokenOptions);\n        }\n        if (cycler.shouldRefresh) {\n            refresh(scopes, tokenOptions);\n        }\n        return token;\n    };\n}\n//# sourceMappingURL=tokenCycler.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTokenCycler } from \"../util/tokenCycler.js\";\nimport { logger as coreLogger } from \"../log.js\";\n/**\n * The programmatic identifier of the bearerTokenAuthenticationPolicy.\n */\nexport const bearerTokenAuthenticationPolicyName = \"bearerTokenAuthenticationPolicy\";\n/**\n * Default authorize request handler\n */\nasync function defaultAuthorizeRequest(options) {\n    const { scopes, getAccessToken, request } = options;\n    const getTokenOptions = {\n        abortSignal: request.abortSignal,\n        tracingOptions: request.tracingOptions,\n    };\n    const accessToken = await getAccessToken(scopes, getTokenOptions);\n    if (accessToken) {\n        options.request.headers.set(\"Authorization\", `Bearer ${accessToken.token}`);\n    }\n}\n/**\n * We will retrieve the challenge only if the response status code was 401,\n * and if the response contained the header \"WWW-Authenticate\" with a non-empty value.\n */\nfunction getChallenge(response) {\n    const challenge = response.headers.get(\"WWW-Authenticate\");\n    if (response.status === 401 && challenge) {\n        return challenge;\n    }\n    return;\n}\n/**\n * A policy that can request a token from a TokenCredential implementation and\n * then apply it to the Authorization header of a request as a Bearer token.\n */\nexport function bearerTokenAuthenticationPolicy(options) {\n    var _a;\n    const { credential, scopes, challengeCallbacks } = options;\n    const logger = options.logger || coreLogger;\n    const callbacks = Object.assign({ authorizeRequest: (_a = challengeCallbacks === null || challengeCallbacks === void 0 ? void 0 : challengeCallbacks.authorizeRequest) !== null && _a !== void 0 ? _a : defaultAuthorizeRequest, authorizeRequestOnChallenge: challengeCallbacks === null || challengeCallbacks === void 0 ? void 0 : challengeCallbacks.authorizeRequestOnChallenge }, challengeCallbacks);\n    // This function encapsulates the entire process of reliably retrieving the token\n    // The options are left out of the public API until there's demand to configure this.\n    // Remember to extend `BearerTokenAuthenticationPolicyOptions` with `TokenCyclerOptions`\n    // in order to pass through the `options` object.\n    const getAccessToken = credential\n        ? createTokenCycler(credential /* , options */)\n        : () => Promise.resolve(null);\n    return {\n        name: bearerTokenAuthenticationPolicyName,\n        /**\n         * If there's no challenge parameter:\n         * - It will try to retrieve the token using the cache, or the credential's getToken.\n         * - Then it will try the next policy with or without the retrieved token.\n         *\n         * It uses the challenge parameters to:\n         * - Skip a first attempt to get the token from the credential if there's no cached token,\n         *   since it expects the token to be retrievable only after the challenge.\n         * - Prepare the outgoing request if the `prepareRequest` method has been provided.\n         * - Send an initial request to receive the challenge if it fails.\n         * - Process a challenge if the response contains it.\n         * - Retrieve a token with the challenge information, then re-send the request.\n         */\n        async sendRequest(request, next) {\n            if (!request.url.toLowerCase().startsWith(\"https://\")) {\n                throw new Error(\"Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.\");\n            }\n            await callbacks.authorizeRequest({\n                scopes: Array.isArray(scopes) ? scopes : [scopes],\n                request,\n                getAccessToken,\n                logger,\n            });\n            let response;\n            let error;\n            try {\n                response = await next(request);\n            }\n            catch (err) {\n                error = err;\n                response = err.response;\n            }\n            if (callbacks.authorizeRequestOnChallenge &&\n                (response === null || response === void 0 ? void 0 : response.status) === 401 &&\n                getChallenge(response)) {\n                // processes challenge\n                const shouldSendRequest = await callbacks.authorizeRequestOnChallenge({\n                    scopes: Array.isArray(scopes) ? scopes : [scopes],\n                    request,\n                    response,\n                    getAccessToken,\n                    logger,\n                });\n                if (shouldSendRequest) {\n                    return next(request);\n                }\n            }\n            if (error) {\n                throw error;\n            }\n            else {\n                return response;\n            }\n        },\n    };\n}\n//# sourceMappingURL=bearerTokenAuthenticationPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isObjectWithProperties } from \"../util/typeGuards.js\";\n/**\n * Tests an object to determine whether it implements KeyCredential.\n *\n * @param credential - The assumed KeyCredential to be tested.\n */\nexport function isKeyCredential(credential) {\n    return isObjectWithProperties(credential, [\"key\"]) && typeof credential.key === \"string\";\n}\n//# sourceMappingURL=keyCredential.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Tests an object to determine whether it implements TokenCredential.\n *\n * @param credential - The assumed TokenCredential to be tested.\n */\nexport function isTokenCredential(credential) {\n    // Check for an object with a 'getToken' function and possibly with\n    // a 'signRequest' function.  We do this check to make sure that\n    // a ServiceClientCredentials implementor (like TokenClientCredentials\n    // in ms-rest-nodeauth) doesn't get mistaken for a TokenCredential if\n    // it doesn't actually implement TokenCredential also.\n    const castCredential = credential;\n    return (castCredential &&\n        typeof castCredential.getToken === \"function\" &&\n        (castCredential.signRequest === undefined || castCredential.getToken.length > 0));\n}\n//# sourceMappingURL=tokenCredential.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport const apiVersionPolicyName = \"ApiVersionPolicy\";\n/**\n * Creates a policy that sets the apiVersion as a query parameter on every request\n * @param options - Client options\n * @returns Pipeline policy that sets the apiVersion as a query parameter on every request\n */\nexport function apiVersionPolicy(options) {\n    return {\n        name: apiVersionPolicyName,\n        sendRequest: (req, next) => {\n            // Use the apiVesion defined in request url directly\n            // Append one if there is no apiVesion and we have one at client options\n            const url = new URL(req.url);\n            if (!url.searchParams.get(\"api-version\") && options.apiVersion) {\n                req.url = `${req.url}${Array.from(url.searchParams.keys()).length > 0 ? \"&\" : \"?\"}api-version=${options.apiVersion}`;\n            }\n            return next(req);\n        },\n    };\n}\n//# sourceMappingURL=apiVersionPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the bearerTokenAuthenticationPolicy.\n */\nexport const keyCredentialAuthenticationPolicyName = \"keyCredentialAuthenticationPolicy\";\nexport function keyCredentialAuthenticationPolicy(credential, apiKeyHeaderName) {\n    return {\n        name: keyCredentialAuthenticationPolicyName,\n        async sendRequest(request, next) {\n            request.headers.set(apiKeyHeaderName, credential.key);\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=keyCredentialAuthenticationPolicy.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { bearerTokenAuthenticationPolicy } from \"../policies/bearerTokenAuthenticationPolicy.js\";\nimport { createDefaultHttpClient } from \"../defaultHttpClient.js\";\nimport { createPipelineFromOptions } from \"../createPipelineFromOptions.js\";\nimport { isTokenCredential } from \"../auth/tokenCredential.js\";\nimport { isKeyCredential } from \"../auth/keyCredential.js\";\nimport { apiVersionPolicy } from \"./apiVersionPolicy.js\";\nimport { keyCredentialAuthenticationPolicy } from \"./keyCredentialAuthenticationPolicy.js\";\nlet cachedHttpClient;\n/**\n * Adds a credential policy to the pipeline if a credential is provided. If none is provided, no policy is added.\n */\nexport function addCredentialPipelinePolicy(pipeline, endpoint, options = {}) {\n    var _a, _b, _c, _d;\n    const { credential, clientOptions } = options;\n    if (!credential) {\n        return;\n    }\n    if (isTokenCredential(credential)) {\n        const tokenPolicy = bearerTokenAuthenticationPolicy({\n            credential,\n            scopes: (_b = (_a = clientOptions === null || clientOptions === void 0 ? void 0 : clientOptions.credentials) === null || _a === void 0 ? void 0 : _a.scopes) !== null && _b !== void 0 ? _b : `${endpoint}/.default`,\n        });\n        pipeline.addPolicy(tokenPolicy);\n    }\n    else if (isKeyCredential(credential)) {\n        if (!((_c = clientOptions === null || clientOptions === void 0 ? void 0 : clientOptions.credentials) === null || _c === void 0 ? void 0 : _c.apiKeyHeaderName)) {\n            throw new Error(`Missing API Key Header Name`);\n        }\n        const keyPolicy = keyCredentialAuthenticationPolicy(credential, (_d = clientOptions === null || clientOptions === void 0 ? void 0 : clientOptions.credentials) === null || _d === void 0 ? void 0 : _d.apiKeyHeaderName);\n        pipeline.addPolicy(keyPolicy);\n    }\n}\n/**\n * Creates a default rest pipeline to re-use accross Rest Level Clients\n */\nexport function createDefaultPipeline(endpoint, credential, options = {}) {\n    const pipeline = createPipelineFromOptions(options);\n    pipeline.addPolicy(apiVersionPolicy(options));\n    addCredentialPipelinePolicy(pipeline, endpoint, { credential, clientOptions: options });\n    return pipeline;\n}\nexport function getCachedDefaultHttpsClient() {\n    if (!cachedHttpClient) {\n        cachedHttpClient = createDefaultHttpClient();\n    }\n    return cachedHttpClient;\n}\n//# sourceMappingURL=clientHelpers.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { RestError } from \"../restError.js\";\nimport { createHttpHeaders } from \"../httpHeaders.js\";\nimport { stringToUint8Array } from \"../util/bytesEncoding.js\";\nimport { isBinaryBody } from \"../util/typeGuards.js\";\n/**\n * Get value of a header in the part descriptor ignoring case\n */\nfunction getHeaderValue(descriptor, headerName) {\n    if (descriptor.headers) {\n        const actualHeaderName = Object.keys(descriptor.headers).find((x) => x.toLowerCase() === headerName.toLowerCase());\n        if (actualHeaderName) {\n            return descriptor.headers[actualHeaderName];\n        }\n    }\n    return undefined;\n}\nfunction getPartContentType(descriptor) {\n    const contentTypeHeader = getHeaderValue(descriptor, \"content-type\");\n    if (contentTypeHeader) {\n        return contentTypeHeader;\n    }\n    // Special value of null means content type is to be omitted\n    if (descriptor.contentType === null) {\n        return undefined;\n    }\n    if (descriptor.contentType) {\n        return descriptor.contentType;\n    }\n    const { body } = descriptor;\n    if (body === null || body === undefined) {\n        return undefined;\n    }\n    if (typeof body === \"string\" || typeof body === \"number\" || typeof body === \"boolean\") {\n        return \"text/plain; charset=UTF-8\";\n    }\n    if (body instanceof Blob) {\n        return body.type || \"application/octet-stream\";\n    }\n    if (isBinaryBody(body)) {\n        return \"application/octet-stream\";\n    }\n    // arbitrary non-text object -> generic JSON content type by default. We will try to JSON.stringify the body.\n    return \"application/json; charset=UTF-8\";\n}\n/**\n * Enclose value in quotes and escape special characters, for use in the Content-Disposition header\n */\nfunction escapeDispositionField(value) {\n    return JSON.stringify(value);\n}\nfunction getContentDisposition(descriptor) {\n    var _a;\n    const contentDispositionHeader = getHeaderValue(descriptor, \"content-disposition\");\n    if (contentDispositionHeader) {\n        return contentDispositionHeader;\n    }\n    if (descriptor.dispositionType === undefined &&\n        descriptor.name === undefined &&\n        descriptor.filename === undefined) {\n        return undefined;\n    }\n    const dispositionType = (_a = descriptor.dispositionType) !== null && _a !== void 0 ? _a : \"form-data\";\n    let disposition = dispositionType;\n    if (descriptor.name) {\n        disposition += `; name=${escapeDispositionField(descriptor.name)}`;\n    }\n    let filename = undefined;\n    if (descriptor.filename) {\n        filename = descriptor.filename;\n    }\n    else if (typeof File !== \"undefined\" && descriptor.body instanceof File) {\n        const filenameFromFile = descriptor.body.name;\n        if (filenameFromFile !== \"\") {\n            filename = filenameFromFile;\n        }\n    }\n    if (filename) {\n        disposition += `; filename=${escapeDispositionField(filename)}`;\n    }\n    return disposition;\n}\nfunction normalizeBody(body, contentType) {\n    if (body === undefined) {\n        // zero-length body\n        return new Uint8Array([]);\n    }\n    // binary and primitives should go straight on the wire regardless of content type\n    if (isBinaryBody(body)) {\n        return body;\n    }\n    if (typeof body === \"string\" || typeof body === \"number\" || typeof body === \"boolean\") {\n        return stringToUint8Array(String(body), \"utf-8\");\n    }\n    // stringify objects for JSON-ish content types e.g. application/json, application/merge-patch+json, application/vnd.oci.manifest.v1+json, application.json; charset=UTF-8\n    if (contentType && /application\\/(.+\\+)?json(;.+)?/i.test(String(contentType))) {\n        return stringToUint8Array(JSON.stringify(body), \"utf-8\");\n    }\n    throw new RestError(`Unsupported body/content-type combination: ${body}, ${contentType}`);\n}\nexport function buildBodyPart(descriptor) {\n    var _a;\n    const contentType = getPartContentType(descriptor);\n    const contentDisposition = getContentDisposition(descriptor);\n    const headers = createHttpHeaders((_a = descriptor.headers) !== null && _a !== void 0 ? _a : {});\n    if (contentType) {\n        headers.set(\"content-type\", contentType);\n    }\n    if (contentDisposition) {\n        headers.set(\"content-disposition\", contentDisposition);\n    }\n    const body = normalizeBody(descriptor.body, contentType);\n    return {\n        headers,\n        body,\n    };\n}\nexport function buildMultipartBody(parts) {\n    return { parts: parts.map(buildBodyPart) };\n}\n//# sourceMappingURL=multipart.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { RestError } from \"../restError.js\";\nimport { createHttpHeaders } from \"../httpHeaders.js\";\nimport { createPipelineRequest } from \"../pipelineRequest.js\";\nimport { getCachedDefaultHttpsClient } from \"./clientHelpers.js\";\nimport { isReadableStream } from \"../util/typeGuards.js\";\nimport { buildMultipartBody } from \"./multipart.js\";\n/**\n * Helper function to send request used by the client\n * @param method - method to use to send the request\n * @param url - url to send the request to\n * @param pipeline - pipeline with the policies to run when sending the request\n * @param options - request options\n * @param customHttpClient - a custom HttpClient to use when making the request\n * @returns returns and HttpResponse\n */\nexport async function sendRequest(method, url, pipeline, options = {}, customHttpClient) {\n    var _a;\n    const httpClient = customHttpClient !== null && customHttpClient !== void 0 ? customHttpClient : getCachedDefaultHttpsClient();\n    const request = buildPipelineRequest(method, url, options);\n    const response = await pipeline.sendRequest(httpClient, request);\n    const headers = response.headers.toJSON();\n    const stream = (_a = response.readableStreamBody) !== null && _a !== void 0 ? _a : response.browserStreamBody;\n    const parsedBody = options.responseAsStream || stream !== undefined ? undefined : getResponseBody(response);\n    const body = stream !== null && stream !== void 0 ? stream : parsedBody;\n    if (options === null || options === void 0 ? void 0 : options.onResponse) {\n        options.onResponse(Object.assign(Object.assign({}, response), { request, rawHeaders: headers, parsedBody }));\n    }\n    return {\n        request,\n        headers,\n        status: `${response.status}`,\n        body,\n    };\n}\n/**\n * Function to determine the request content type\n * @param options - request options InternalRequestParameters\n * @returns returns the content-type\n */\nfunction getRequestContentType(options = {}) {\n    var _a, _b, _c;\n    return ((_c = (_a = options.contentType) !== null && _a !== void 0 ? _a : (_b = options.headers) === null || _b === void 0 ? void 0 : _b[\"content-type\"]) !== null && _c !== void 0 ? _c : getContentType(options.body));\n}\n/**\n * Function to determine the content-type of a body\n * this is used if an explicit content-type is not provided\n * @param body - body in the request\n * @returns returns the content-type\n */\nfunction getContentType(body) {\n    if (ArrayBuffer.isView(body)) {\n        return \"application/octet-stream\";\n    }\n    if (typeof body === \"string\") {\n        try {\n            JSON.parse(body);\n            return \"application/json; charset=UTF-8\";\n        }\n        catch (error) {\n            // If we fail to parse the body, it is not json\n            return undefined;\n        }\n    }\n    // By default return json\n    return \"application/json; charset=UTF-8\";\n}\nfunction buildPipelineRequest(method, url, options = {}) {\n    var _a, _b, _c;\n    const requestContentType = getRequestContentType(options);\n    const { body, multipartBody } = getRequestBody(options.body, requestContentType);\n    const hasContent = body !== undefined || multipartBody !== undefined;\n    const headers = createHttpHeaders(Object.assign(Object.assign(Object.assign({}, (options.headers ? options.headers : {})), { accept: (_c = (_a = options.accept) !== null && _a !== void 0 ? _a : (_b = options.headers) === null || _b === void 0 ? void 0 : _b.accept) !== null && _c !== void 0 ? _c : \"application/json\" }), (hasContent &&\n        requestContentType && {\n        \"content-type\": requestContentType,\n    })));\n    return createPipelineRequest({\n        url,\n        method,\n        body,\n        multipartBody,\n        headers,\n        allowInsecureConnection: options.allowInsecureConnection,\n        tracingOptions: options.tracingOptions,\n        abortSignal: options.abortSignal,\n        onUploadProgress: options.onUploadProgress,\n        onDownloadProgress: options.onDownloadProgress,\n        timeout: options.timeout,\n        enableBrowserStreams: true,\n        streamResponseStatusCodes: options.responseAsStream\n            ? new Set([Number.POSITIVE_INFINITY])\n            : undefined,\n    });\n}\n/**\n * Prepares the body before sending the request\n */\nfunction getRequestBody(body, contentType = \"\") {\n    if (body === undefined) {\n        return { body: undefined };\n    }\n    if (typeof FormData !== \"undefined\" && body instanceof FormData) {\n        return { body };\n    }\n    if (isReadableStream(body)) {\n        return { body };\n    }\n    const firstType = contentType.split(\";\")[0];\n    if (firstType === \"application/json\") {\n        return { body: JSON.stringify(body) };\n    }\n    if (ArrayBuffer.isView(body)) {\n        return { body: body instanceof Uint8Array ? body : JSON.stringify(body) };\n    }\n    switch (firstType) {\n        case \"multipart/form-data\":\n            if (Array.isArray(body)) {\n                return { multipartBody: buildMultipartBody(body) };\n            }\n            return { body: JSON.stringify(body) };\n        case \"text/plain\":\n            return { body: String(body) };\n        default:\n            if (typeof body === \"string\") {\n                return { body };\n            }\n            return { body: JSON.stringify(body) };\n    }\n}\n/**\n * Prepares the response body\n */\nfunction getResponseBody(response) {\n    var _a, _b;\n    // Set the default response type\n    const contentType = (_a = response.headers.get(\"content-type\")) !== null && _a !== void 0 ? _a : \"\";\n    const firstType = contentType.split(\";\")[0];\n    const bodyToParse = (_b = response.bodyAsText) !== null && _b !== void 0 ? _b : \"\";\n    if (firstType === \"text/plain\") {\n        return String(bodyToParse);\n    }\n    // Default to \"application/json\" and fallback to string;\n    try {\n        return bodyToParse ? JSON.parse(bodyToParse) : undefined;\n    }\n    catch (error) {\n        // If we were supposed to get a JSON object and failed to\n        // parse, throw a parse error\n        if (firstType === \"application/json\") {\n            throw createParseError(response, error);\n        }\n        // We are not sure how to handle the response so we return it as\n        // plain text.\n        return String(bodyToParse);\n    }\n}\nfunction createParseError(response, err) {\n    var _a;\n    const msg = `Error \"${err}\" occurred while parsing the response body - ${response.bodyAsText}.`;\n    const errCode = (_a = err.code) !== null && _a !== void 0 ? _a : RestError.PARSE_ERROR;\n    return new RestError(msg, {\n        code: errCode,\n        statusCode: response.status,\n        request: response.request,\n        response: response,\n    });\n}\n//# sourceMappingURL=sendRequest.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Builds the request url, filling in query and path parameters\n * @param endpoint - base url which can be a template url\n * @param routePath - path to append to the endpoint\n * @param pathParameters - values of the path parameters\n * @param options - request parameters including query parameters\n * @returns a full url with path and query parameters\n */\nexport function buildRequestUrl(endpoint, routePath, pathParameters, options = {}) {\n    if (routePath.startsWith(\"https://\") || routePath.startsWith(\"http://\")) {\n        return routePath;\n    }\n    endpoint = buildBaseUrl(endpoint, options);\n    routePath = buildRoutePath(routePath, pathParameters, options);\n    const requestUrl = appendQueryParams(`${endpoint}/${routePath}`, options);\n    const url = new URL(requestUrl);\n    return (url\n        .toString()\n        // Remove double forward slashes\n        .replace(/([^:]\\/)\\/+/g, \"$1\"));\n}\nfunction appendQueryParams(url, options = {}) {\n    if (!options.queryParameters) {\n        return url;\n    }\n    let parsedUrl = new URL(url);\n    const queryParams = options.queryParameters;\n    for (const key of Object.keys(queryParams)) {\n        const param = queryParams[key];\n        if (param === undefined || param === null) {\n            continue;\n        }\n        if (!param.toString || typeof param.toString !== \"function\") {\n            throw new Error(`Query parameters must be able to be represented as string, ${key} can't`);\n        }\n        const value = param.toISOString !== undefined ? param.toISOString() : param.toString();\n        parsedUrl.searchParams.append(key, value);\n    }\n    if (options.skipUrlEncoding) {\n        parsedUrl = skipQueryParameterEncoding(parsedUrl);\n    }\n    return parsedUrl.toString();\n}\nfunction skipQueryParameterEncoding(url) {\n    if (!url) {\n        return url;\n    }\n    const searchPieces = [];\n    for (const [name, value] of url.searchParams) {\n        // QUIRK: searchParams.get retrieves the values decoded\n        searchPieces.push(`${name}=${value}`);\n    }\n    // QUIRK: we have to set search manually as searchParams will encode comma when it shouldn't.\n    url.search = searchPieces.length ? `?${searchPieces.join(\"&\")}` : \"\";\n    return url;\n}\nexport function buildBaseUrl(endpoint, options) {\n    var _a;\n    if (!options.pathParameters) {\n        return endpoint;\n    }\n    const pathParams = options.pathParameters;\n    for (const [key, param] of Object.entries(pathParams)) {\n        if (param === undefined || param === null) {\n            throw new Error(`Path parameters ${key} must not be undefined or null`);\n        }\n        if (!param.toString || typeof param.toString !== \"function\") {\n            throw new Error(`Path parameters must be able to be represented as string, ${key} can't`);\n        }\n        let value = param.toISOString !== undefined ? param.toISOString() : String(param);\n        if (!options.skipUrlEncoding) {\n            value = encodeURIComponent(param);\n        }\n        endpoint = (_a = replaceAll(endpoint, `{${key}}`, value)) !== null && _a !== void 0 ? _a : \"\";\n    }\n    return endpoint;\n}\nfunction buildRoutePath(routePath, pathParameters, options = {}) {\n    for (const pathParam of pathParameters) {\n        let value = pathParam;\n        if (!options.skipUrlEncoding) {\n            value = encodeURIComponent(pathParam);\n        }\n        routePath = routePath.replace(/\\{\\w+\\}/, value);\n    }\n    return routePath;\n}\n/**\n * Replace all of the instances of searchValue in value with the provided replaceValue.\n * @param value - The value to search and replace in.\n * @param searchValue - The value to search for in the value argument.\n * @param replaceValue - The value to replace searchValue with in the value argument.\n * @returns The value where each instance of searchValue was replaced with replacedValue.\n */\nexport function replaceAll(value, searchValue, replaceValue) {\n    return !value || !searchValue ? value : value.split(searchValue).join(replaceValue || \"\");\n}\n//# sourceMappingURL=urlHelpers.js.map", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isTokenCredential } from \"../auth/tokenCredential.js\";\nimport { isKeyCredential } from \"../auth/keyCredential.js\";\nimport { createDefaultPipeline } from \"./clientHelpers.js\";\nimport { sendRequest } from \"./sendRequest.js\";\nimport { buildRequestUrl } from \"./urlHelpers.js\";\nexport function getClient(endpoint, credentialsOrPipelineOptions, clientOptions = {}) {\n    var _a;\n    let credentials;\n    if (credentialsOrPipelineOptions) {\n        if (isCredential(credentialsOrPipelineOptions)) {\n            credentials = credentialsOrPipelineOptions;\n        }\n        else {\n            clientOptions = credentialsOrPipelineOptions !== null && credentialsOrPipelineOptions !== void 0 ? credentialsOrPipelineOptions : {};\n        }\n    }\n    const pipeline = createDefaultPipeline(endpoint, credentials, clientOptions);\n    if ((_a = clientOptions.additionalPolicies) === null || _a === void 0 ? void 0 : _a.length) {\n        for (const { policy, position } of clientOptions.additionalPolicies) {\n            // Sign happens after Retry and is commonly needed to occur\n            // before policies that intercept post-retry.\n            const afterPhase = position === \"perRetry\" ? \"Sign\" : undefined;\n            pipeline.addPolicy(policy, {\n                afterPhase,\n            });\n        }\n    }\n    const { allowInsecureConnection, httpClient } = clientOptions;\n    const client = (path, ...args) => {\n        const getUrl = (requestOptions) => buildRequestUrl(endpoint, path, args, Object.assign({ allowInsecureConnection }, requestOptions));\n        return {\n            get: (requestOptions = {}) => {\n                return buildOperation(\"GET\", getUrl(requestOptions), pipeline, requestOptions, allowInsecureConnection, httpClient);\n            },\n            post: (requestOptions = {}) => {\n                return buildOperation(\"POST\", getUrl(requestOptions), pipeline, requestOptions, allowInsecureConnection, httpClient);\n            },\n            put: (requestOptions = {}) => {\n                return buildOperation(\"PUT\", getUrl(requestOptions), pipeline, requestOptions, allowInsecureConnection, httpClient);\n            },\n            patch: (requestOptions = {}) => {\n                return buildOperation(\"PATCH\", getUrl(requestOptions), pipeline, requestOptions, allowInsecureConnection, httpClient);\n            },\n            delete: (requestOptions = {}) => {\n                return buildOperation(\"DELETE\", getUrl(requestOptions), pipeline, requestOptions, allowInsecureConnection, httpClient);\n            },\n            head: (requestOptions = {}) => {\n                return buildOperation(\"HEAD\", getUrl(requestOptions), pipeline, requestOptions, allowInsecureConnection, httpClient);\n            },\n            options: (requestOptions = {}) => {\n                return buildOperation(\"OPTIONS\", getUrl(requestOptions), pipeline, requestOptions, allowInsecureConnection, httpClient);\n            },\n            trace: (requestOptions = {}) => {\n                return buildOperation(\"TRACE\", getUrl(requestOptions), pipeline, requestOptions, allowInsecureConnection, httpClient);\n            },\n        };\n    };\n    return {\n        path: client,\n        pathUnchecked: client,\n        pipeline,\n    };\n}\nfunction buildOperation(method, url, pipeline, options, allowInsecureConnection, httpClient) {\n    var _a;\n    allowInsecureConnection = (_a = options.allowInsecureConnection) !== null && _a !== void 0 ? _a : allowInsecureConnection;\n    return {\n        then: function (onFulfilled, onrejected) {\n            return sendRequest(method, url, pipeline, Object.assign(Object.assign({}, options), { allowInsecureConnection }), httpClient).then(onFulfilled, onrejected);\n        },\n        async asBrowserStream() {\n            return sendRequest(method, url, pipeline, Object.assign(Object.assign({}, options), { allowInsecureConnection, responseAsStream: true }), httpClient);\n        },\n        async asNodeStream() {\n            return sendRequest(method, url, pipeline, Object.assign(Object.assign({}, options), { allowInsecureConnection, responseAsStream: true }), httpClient);\n        },\n    };\n}\nfunction isCredential(param) {\n    return isKeyCredential(param) || isTokenCredential(param);\n}\n//# sourceMappingURL=getClient.js.map", null, null, null, null, null],
  "mappings": "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",
  "names": ["_a", "debug", "enabledNamespaces", "logger", "coreLogger", "map", "_b", "_c", "isBlob", "rawContent", "buildRequestBody", "_d", "isTokenCredential", "isCredential", "ControlChar"]
}
